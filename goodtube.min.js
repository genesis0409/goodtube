(()=>{(function(){"use strict";var tn=Object.defineProperty,g=(e,t)=>tn(e,"name",{value:t,configurable:!0}),{entries:Ao,setPrototypeOf:Eo,isFrozen:on,getPrototypeOf:nn,getOwnPropertyDescriptor:an}=Object,{freeze:B,seal:H,create:Vt}=Object,{apply:zt,construct:Ft}=typeof Reflect<"u"&&Reflect;B||(B=g(function(e){return e},"freeze")),H||(H=g(function(e){return e},"seal")),zt||(zt=g(function(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return e.apply(t,n)},"apply")),Ft||(Ft=g(function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return new e(...i)},"construct"));var ot=N(Array.prototype.forEach),rn=N(Array.prototype.lastIndexOf),So=N(Array.prototype.pop),qe=N(Array.prototype.push),dn=N(Array.prototype.splice),it=N(String.prototype.toLowerCase),Ut=N(String.prototype.toString),Ht=N(String.prototype.match),Ve=N(String.prototype.replace),ln=N(String.prototype.indexOf),sn=N(String.prototype.trim),Y=N(Object.prototype.hasOwnProperty),q=N(RegExp.prototype.test),ze=Io(TypeError);function N(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return zt(e,t,n)}}g(N,"unapply");function Io(e){return function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return Ft(e,i)}}g(Io,"unconstruct");function p(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:it;Eo&&Eo(e,null);let n=t.length;for(;n--;){let r=t[n];if(typeof r=="string"){let f=i(r);f!==r&&(on(t)||(t[n]=f),r=f)}e[r]=!0}return e}g(p,"addToSet");function Mo(e){for(let t=0;t<e.length;t++)Y(e,t)||(e[t]=null);return e}g(Mo,"cleanArray");function Z(e){let t=Vt(null);for(let[i,n]of Ao(e))Y(e,i)&&(Array.isArray(n)?t[i]=Mo(n):n&&typeof n=="object"&&n.constructor===Object?t[i]=Z(n):t[i]=n);return t}g(Z,"clone");function xe(e,t){for(;e!==null;){let n=an(e,t);if(n){if(n.get)return N(n.get);if(typeof n.value=="function")return N(n.value)}e=nn(e)}function i(){return null}return g(i,"fallbackValue"),i}g(xe,"lookupGetter");var Co=B(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Yt=B(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Gt=B(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),un=B(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qt=B(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),cn=B(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Lo=B(["#text"]),Do=B(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Wt=B(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ro=B(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),nt=B(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fn=H(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pn=H(/<%[\w\W]*|[\w\W]*%>/gm),mn=H(/\$\{[\w\W]*/gm),gn=H(/^data-[\-\w.\u00B7-\uFFFF]+$/),bn=H(/^aria-[\-\w]+$/),Oo=H(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_n=H(/^(?:\w+script|data):/i),yn=H(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),No=H(/^html$/i),hn=H(/^[a-z][.\w]*(-[.\w]+)+$/i),Po=Object.freeze({__proto__:null,ARIA_ATTR:bn,ATTR_WHITESPACE:yn,CUSTOM_ELEMENT:hn,DATA_ATTR:gn,DOCTYPE_NAME:No,ERB_EXPR:pn,IS_ALLOWED_URI:Oo,IS_SCRIPT_OR_DATA:_n,MUSTACHE_EXPR:fn,TMPLIT_EXPR:mn}),Fe={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Tn=g(function(){return typeof window>"u"?null:window},"getGlobal"),vn=g(function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null,n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(i=t.getAttribute(n));let r="dompurify"+(i?"#"+i:"");try{return e.createPolicy(r,{createHTML(f){return f},createScriptURL(f){return f}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},"_createTrustedTypesPolicy"),Bo=g(function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},"_createHooksMap");function jt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tn(),t=g(o=>jt(o),"DOMPurify");if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==Fe.document||!e.Element)return t.isSupported=!1,t;let{document:i}=e,n=i,r=n.currentScript,{DocumentFragment:f,HTMLTemplateElement:m,Node:y,Element:v,NodeFilter:A,NamedNodeMap:ge=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:de,DOMParser:be,trustedTypes:_e}=e,le=v.prototype,wt=xe(le,"cloneNode"),kt=xe(le,"remove"),At=xe(le,"nextSibling"),Et=xe(le,"childNodes"),ye=xe(le,"parentNode");if(typeof m=="function"){let o=i.createElement("template");o.content&&o.content.ownerDocument&&(i=o.content.ownerDocument)}let S,ie="",{implementation:z,createNodeIterator:St,createDocumentFragment:It,getElementsByTagName:Mt}=i,{importNode:Ri}=n,I=Bo();t.isSupported=typeof Ao=="function"&&typeof ye=="function"&&z&&z.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Ce,ERB_EXPR:P,TMPLIT_EXPR:F,DATA_ATTR:U,ARIA_ATTR:ee,IS_SCRIPT_OR_DATA:Ct,ATTR_WHITESPACE:Ke,CUSTOM_ELEMENT:Lt}=Po,{IS_ALLOWED_URI:Je}=Po,x=null,Xe=p({},[...Co,...Yt,...Gt,...Qt,...Lo]),E=null,Oi=p({},[...Do,...Wt,...Ro,...nt]),w=Object.seal(Vt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$e=null,mo=null,Le=Object.seal(Vt(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),Ni=!0,go=!0,Pi=!1,Bi=!0,De=!1,Dt=!0,he=!1,bo=!1,_o=!1,Re=!1,Rt=!1,Ot=!1,qi=!0,Vi=!1,ca="user-content-",yo=!0,et=!1,Oe={},Ne=null,zi=p({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Fi=null,Ui=p({},["audio","video","img","source","image","track"]),ho=null,Hi=p({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Nt="http://www.w3.org/1998/Math/MathML",Pt="http://www.w3.org/2000/svg",ne="http://www.w3.org/1999/xhtml",Pe=ne,To=!1,vo=null,fa=p({},[Nt,Pt,ne],Ut),Bt=p({},["mi","mo","mn","ms","mtext"]),qt=p({},["annotation-xml"]),pa=p({},["title","style","font","a","script"]),tt=null,ma=["application/xhtml+xml","text/html"],ga="text/html",L=null,Be=null,ba=i.createElement("form"),Yi=g(function(o){return o instanceof RegExp||o instanceof Function},"isRegexOrFunction"),xo=g(function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Be&&Be===o)){if((!o||typeof o!="object")&&(o={}),o=Z(o),tt=ma.indexOf(o.PARSER_MEDIA_TYPE)===-1?ga:o.PARSER_MEDIA_TYPE,L=tt==="application/xhtml+xml"?Ut:it,x=Y(o,"ALLOWED_TAGS")?p({},o.ALLOWED_TAGS,L):Xe,E=Y(o,"ALLOWED_ATTR")?p({},o.ALLOWED_ATTR,L):Oi,vo=Y(o,"ALLOWED_NAMESPACES")?p({},o.ALLOWED_NAMESPACES,Ut):fa,ho=Y(o,"ADD_URI_SAFE_ATTR")?p(Z(Hi),o.ADD_URI_SAFE_ATTR,L):Hi,Fi=Y(o,"ADD_DATA_URI_TAGS")?p(Z(Ui),o.ADD_DATA_URI_TAGS,L):Ui,Ne=Y(o,"FORBID_CONTENTS")?p({},o.FORBID_CONTENTS,L):zi,$e=Y(o,"FORBID_TAGS")?p({},o.FORBID_TAGS,L):Z({}),mo=Y(o,"FORBID_ATTR")?p({},o.FORBID_ATTR,L):Z({}),Oe=Y(o,"USE_PROFILES")?o.USE_PROFILES:!1,Ni=o.ALLOW_ARIA_ATTR!==!1,go=o.ALLOW_DATA_ATTR!==!1,Pi=o.ALLOW_UNKNOWN_PROTOCOLS||!1,Bi=o.ALLOW_SELF_CLOSE_IN_ATTR!==!1,De=o.SAFE_FOR_TEMPLATES||!1,Dt=o.SAFE_FOR_XML!==!1,he=o.WHOLE_DOCUMENT||!1,Re=o.RETURN_DOM||!1,Rt=o.RETURN_DOM_FRAGMENT||!1,Ot=o.RETURN_TRUSTED_TYPE||!1,_o=o.FORCE_BODY||!1,qi=o.SANITIZE_DOM!==!1,Vi=o.SANITIZE_NAMED_PROPS||!1,yo=o.KEEP_CONTENT!==!1,et=o.IN_PLACE||!1,Je=o.ALLOWED_URI_REGEXP||Oo,Pe=o.NAMESPACE||ne,Bt=o.MATHML_TEXT_INTEGRATION_POINTS||Bt,qt=o.HTML_INTEGRATION_POINTS||qt,w=o.CUSTOM_ELEMENT_HANDLING||{},o.CUSTOM_ELEMENT_HANDLING&&Yi(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(w.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&Yi(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(w.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(w.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),De&&(go=!1),Rt&&(Re=!0),Oe&&(x=p({},Lo),E=[],Oe.html===!0&&(p(x,Co),p(E,Do)),Oe.svg===!0&&(p(x,Yt),p(E,Wt),p(E,nt)),Oe.svgFilters===!0&&(p(x,Gt),p(E,Wt),p(E,nt)),Oe.mathMl===!0&&(p(x,Qt),p(E,Ro),p(E,nt))),o.ADD_TAGS&&(typeof o.ADD_TAGS=="function"?Le.tagCheck=o.ADD_TAGS:(x===Xe&&(x=Z(x)),p(x,o.ADD_TAGS,L))),o.ADD_ATTR&&(typeof o.ADD_ATTR=="function"?Le.attributeCheck=o.ADD_ATTR:(E===Oi&&(E=Z(E)),p(E,o.ADD_ATTR,L))),o.ADD_URI_SAFE_ATTR&&p(ho,o.ADD_URI_SAFE_ATTR,L),o.FORBID_CONTENTS&&(Ne===zi&&(Ne=Z(Ne)),p(Ne,o.FORBID_CONTENTS,L)),yo&&(x["#text"]=!0),he&&p(x,["html","head","body"]),x.table&&(p(x,["tbody"]),delete $e.tbody),o.TRUSTED_TYPES_POLICY){if(typeof o.TRUSTED_TYPES_POLICY.createHTML!="function")throw ze('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof o.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ze('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=o.TRUSTED_TYPES_POLICY,ie=S.createHTML("")}else S===void 0&&(S=vn(_e,r)),S!==null&&typeof ie=="string"&&(ie=S.createHTML(""));B&&B(o),Be=o}},"_parseConfig"),Gi=p({},[...Yt,...Gt,...un]),Qi=p({},[...Qt,...cn]),_a=g(function(o){let l=ye(o);(!l||!l.tagName)&&(l={namespaceURI:Pe,tagName:"template"});let d=it(o.tagName),_=it(l.tagName);return vo[o.namespaceURI]?o.namespaceURI===Pt?l.namespaceURI===ne?d==="svg":l.namespaceURI===Nt?d==="svg"&&(_==="annotation-xml"||Bt[_]):!!Gi[d]:o.namespaceURI===Nt?l.namespaceURI===ne?d==="math":l.namespaceURI===Pt?d==="math"&&qt[_]:!!Qi[d]:o.namespaceURI===ne?l.namespaceURI===Pt&&!qt[_]||l.namespaceURI===Nt&&!Bt[_]?!1:!Qi[d]&&(pa[d]||!Gi[d]):!!(tt==="application/xhtml+xml"&&vo[o.namespaceURI]):!1},"_checkValidNamespace"),Te=g(function(o){qe(t.removed,{element:o});try{ye(o).removeChild(o)}catch{kt(o)}},"_forceRemove"),ve=g(function(o,l){try{qe(t.removed,{attribute:l.getAttributeNode(o),from:l})}catch{qe(t.removed,{attribute:null,from:l})}if(l.removeAttribute(o),o==="is")if(Re||Rt)try{Te(l)}catch{}else try{l.setAttribute(o,"")}catch{}},"_removeAttribute"),Wi=g(function(o){let l=null,d=null;if(_o)o="<remove></remove>"+o;else{let T=Ht(o,/^[\r\n\t ]+/);d=T&&T[0]}tt==="application/xhtml+xml"&&Pe===ne&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");let _=S?S.createHTML(o):o;if(Pe===ne)try{l=new be().parseFromString(_,tt)}catch{}if(!l||!l.documentElement){l=z.createDocument(Pe,"template",null);try{l.documentElement.innerHTML=To?ie:_}catch{}}let R=l.body||l.documentElement;return o&&d&&R.insertBefore(i.createTextNode(d),R.childNodes[0]||null),Pe===ne?Mt.call(l,he?"html":"body")[0]:he?l.documentElement:R},"_initDocument"),ji=g(function(o){return St.call(o.ownerDocument||o,o,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT|A.SHOW_PROCESSING_INSTRUCTION|A.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),wo=g(function(o){return o instanceof de&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof ge)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function"||typeof o.hasChildNodes!="function")},"_isClobbered"),Zi=g(function(o){return typeof y=="function"&&o instanceof y},"_isNode");function te(o,l,d){ot(o,_=>{_.call(t,l,d,Be)})}g(te,"_executeHooks");let Ki=g(function(o){let l=null;if(te(I.beforeSanitizeElements,o,null),wo(o))return Te(o),!0;let d=L(o.nodeName);if(te(I.uponSanitizeElement,o,{tagName:d,allowedTags:x}),Dt&&o.hasChildNodes()&&!Zi(o.firstElementChild)&&q(/<[/\w!]/g,o.innerHTML)&&q(/<[/\w!]/g,o.textContent)||o.nodeType===Fe.progressingInstruction||Dt&&o.nodeType===Fe.comment&&q(/<[/\w]/g,o.data))return Te(o),!0;if(!(Le.tagCheck instanceof Function&&Le.tagCheck(d))&&(!x[d]||$e[d])){if(!$e[d]&&Xi(d)&&(w.tagNameCheck instanceof RegExp&&q(w.tagNameCheck,d)||w.tagNameCheck instanceof Function&&w.tagNameCheck(d)))return!1;if(yo&&!Ne[d]){let _=ye(o)||o.parentNode,R=Et(o)||o.childNodes;if(R&&_){let T=R.length;for(let ae=T-1;ae>=0;--ae){let W=wt(R[ae],!0);W.__removalCount=(o.__removalCount||0)+1,_.insertBefore(W,At(o))}}}return Te(o),!0}return o instanceof v&&!_a(o)||(d==="noscript"||d==="noembed"||d==="noframes")&&q(/<\/no(script|embed|frames)/i,o.innerHTML)?(Te(o),!0):(De&&o.nodeType===Fe.text&&(l=o.textContent,ot([Ce,P,F],_=>{l=Ve(l,_," ")}),o.textContent!==l&&(qe(t.removed,{element:o.cloneNode()}),o.textContent=l)),te(I.afterSanitizeElements,o,null),!1)},"_sanitizeElements"),Ji=g(function(o,l,d){if(qi&&(l==="id"||l==="name")&&(d in i||d in ba))return!1;if(!(go&&!mo[l]&&q(U,l))&&!(Ni&&q(ee,l))&&!(Le.attributeCheck instanceof Function&&Le.attributeCheck(l,o))){if(!E[l]||mo[l]){if(!(Xi(o)&&(w.tagNameCheck instanceof RegExp&&q(w.tagNameCheck,o)||w.tagNameCheck instanceof Function&&w.tagNameCheck(o))&&(w.attributeNameCheck instanceof RegExp&&q(w.attributeNameCheck,l)||w.attributeNameCheck instanceof Function&&w.attributeNameCheck(l,o))||l==="is"&&w.allowCustomizedBuiltInElements&&(w.tagNameCheck instanceof RegExp&&q(w.tagNameCheck,d)||w.tagNameCheck instanceof Function&&w.tagNameCheck(d))))return!1}else if(!ho[l]&&!q(Je,Ve(d,Ke,""))&&!((l==="src"||l==="xlink:href"||l==="href")&&o!=="script"&&ln(d,"data:")===0&&Fi[o])&&!(Pi&&!q(Ct,Ve(d,Ke,"")))&&d)return!1}return!0},"_isValidAttribute"),Xi=g(function(o){return o!=="annotation-xml"&&Ht(o,Lt)},"_isBasicCustomElement"),$i=g(function(o){te(I.beforeSanitizeAttributes,o,null);let{attributes:l}=o;if(!l||wo(o))return;let d={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:E,forceKeepAttr:void 0},_=l.length;for(;_--;){let R=l[_],{name:T,namespaceURI:ae,value:W}=R,j=L(T),ko=W,O=T==="value"?ko:sn(ko);if(d.attrName=j,d.attrValue=O,d.keepAttr=!0,d.forceKeepAttr=void 0,te(I.uponSanitizeAttribute,o,d),O=d.attrValue,Vi&&(j==="id"||j==="name")&&(ve(T,o),O=ca+O),Dt&&q(/((--!?|])>)|<\/(style|title|textarea)/i,O)){ve(T,o);continue}if(j==="attributename"&&Ht(O,"href")){ve(T,o);continue}if(d.forceKeepAttr)continue;if(!d.keepAttr){ve(T,o);continue}if(!Bi&&q(/\/>/i,O)){ve(T,o);continue}De&&ot([Ce,P,F],ha=>{O=Ve(O,ha," ")});let en=L(o.nodeName);if(!Ji(en,j,O)){ve(T,o);continue}if(S&&typeof _e=="object"&&typeof _e.getAttributeType=="function"&&!ae)switch(_e.getAttributeType(en,j)){case"TrustedHTML":{O=S.createHTML(O);break}case"TrustedScriptURL":{O=S.createScriptURL(O);break}}if(O!==ko)try{ae?o.setAttributeNS(ae,T,O):o.setAttribute(T,O),wo(o)?Te(o):So(t.removed)}catch{ve(T,o)}}te(I.afterSanitizeAttributes,o,null)},"_sanitizeAttributes"),ya=g(function o(l){let d=null,_=ji(l);for(te(I.beforeSanitizeShadowDOM,l,null);d=_.nextNode();)te(I.uponSanitizeShadowNode,d,null),Ki(d),$i(d),d.content instanceof f&&o(d.content);te(I.afterSanitizeShadowDOM,l,null)},"_sanitizeShadowDOM");return t.sanitize=function(o){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=null,_=null,R=null,T=null;if(To=!o,To&&(o="<!-->"),typeof o!="string"&&!Zi(o))if(typeof o.toString=="function"){if(o=o.toString(),typeof o!="string")throw ze("dirty is not a string, aborting")}else throw ze("toString is not a function");if(!t.isSupported)return o;if(bo||xo(l),t.removed=[],typeof o=="string"&&(et=!1),et){if(o.nodeName){let j=L(o.nodeName);if(!x[j]||$e[j])throw ze("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof y)d=Wi("<!---->"),_=d.ownerDocument.importNode(o,!0),_.nodeType===Fe.element&&_.nodeName==="BODY"||_.nodeName==="HTML"?d=_:d.appendChild(_);else{if(!Re&&!De&&!he&&o.indexOf("<")===-1)return S&&Ot?S.createHTML(o):o;if(d=Wi(o),!d)return Re?null:Ot?ie:""}d&&_o&&Te(d.firstChild);let ae=ji(et?o:d);for(;R=ae.nextNode();)Ki(R),$i(R),R.content instanceof f&&ya(R.content);if(et)return o;if(Re){if(Rt)for(T=It.call(d.ownerDocument);d.firstChild;)T.appendChild(d.firstChild);else T=d;return(E.shadowroot||E.shadowrootmode)&&(T=Ri.call(n,T,!0)),T}let W=he?d.outerHTML:d.innerHTML;return he&&x["!doctype"]&&d.ownerDocument&&d.ownerDocument.doctype&&d.ownerDocument.doctype.name&&q(No,d.ownerDocument.doctype.name)&&(W="<!DOCTYPE "+d.ownerDocument.doctype.name+">"+W),De&&ot([Ce,P,F],j=>{W=Ve(W,j," ")}),S&&Ot?S.createHTML(W):W},t.setConfig=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xo(o),bo=!0},t.clearConfig=function(){Be=null,bo=!1},t.isValidAttribute=function(o,l,d){Be||xo({});let _=L(o),R=L(l);return Ji(_,R,d)},t.addHook=function(o,l){typeof l=="function"&&qe(I[o],l)},t.removeHook=function(o,l){if(l!==void 0){let d=rn(I[o],l);return d===-1?void 0:dn(I[o],d,1)[0]}return So(I[o])},t.removeHooks=function(o){I[o]=[]},t.removeAllHooks=function(){I=Bo()},t}g(jt,"createDOMPurify");var qo=jt();let Ue=!1;window.trustedTypes&&window.trustedTypes.createPolicy&&qo&&(Ue=window.trustedTypes.createPolicy("GoodTubePolicy",{createHTML:e=>qo.sanitize(e,{RETURN_TRUSTED_TYPE:!0})}));function Vo(){let e={};if(document.location.search.replace(/\??(?:([^=]+)=([^&]*)&?)/g,function(){function t(i){return decodeURIComponent(i.split("+").join(" "))}e[t(arguments[1])]=t(arguments[2])}),G()&&typeof e.v>"u"){let t="";window.location.href.indexOf("/watch/")!==-1?t="/watch/":t="/live/";let i=window.location.href.split(t);if(i.length===2){let n=i[1].split("?");e.v=n[n.length-1]}}return e}function u(e,t,i=399){e=e+"_new",document.cookie=e+"="+encodeURIComponent(t)+";SameSite=Lax;path=/;max-age="+i*24*60*60}function V(e){e=e+"_new";let t=document.cookie.split(";");for(let i=0;i<t.length;i++){let n=t[i].split("=");if(e==n[0].trim())return decodeURIComponent(n[1])}return null}function K(e){e&&(e.dispatchEvent(new PointerEvent("mousedown",{bubbles:!0,cancelable:!0,button:0})),e.dispatchEvent(new PointerEvent("click",{bubbles:!0,cancelable:!0,button:0})),e.dispatchEvent(new PointerEvent("mouseup",{bubbles:!0,cancelable:!0,button:0})))}function xn(){let e=document.createElement("style");e.textContent=`
			.goodTube_hidden {
				display: none !important;
			}
		`,document.head.appendChild(e)}function J(e){e&&!e.classList.contains("goodTube_hidden")&&e.classList.add("goodTube_hidden")}function at(e){e&&e.classList.contains("goodTube_hidden")&&e.classList.remove("goodTube_hidden")}function G(){return window.location.href.indexOf("/watch/")!==-1||window.location.href.indexOf("/watch?")!==-1||window.location.href.indexOf("/live/")!==-1}function Zt(){if(G()){let e=document.querySelector(".video-ads"),t=document.querySelector(".ad-simple-attributed-string");return!!(e&&e.checkVisibility()||t&&t.checkVisibility())}}function rt(e,t){Ue&&(t=Ue.createHTML(t)),e.innerHTML=t}function wn(e,t,i){Ue&&(i=Ue.createHTML(i)),e.insertAdjacentHTML(t,i)}function Kt(e){let t=!1,i=!1,n=!1;e==="next"?(t="n",i=78,n=!0):e==="previous"&&(t="p",i=80,n=!0);let r=!1;r=new window.KeyboardEvent("focus",{bubbles:!0,key:t,keyCode:i,shiftKey:n,charCode:0}),document.dispatchEvent(r),r=new window.KeyboardEvent("keydown",{bubbles:!0,key:t,keyCode:i,shiftKey:n,charCode:0}),document.dispatchEvent(r),r=new window.KeyboardEvent("beforeinput",{bubbles:!0,key:t,keyCode:i,shiftKey:n,charCode:0}),document.dispatchEvent(r),r=new window.KeyboardEvent("keypress",{bubbles:!0,key:t,keyCode:i,shiftKey:n,charCode:0}),document.dispatchEvent(r),r=new window.KeyboardEvent("input",{bubbles:!0,key:t,keyCode:i,shiftKey:n,charCode:0}),document.dispatchEvent(r),r=new window.KeyboardEvent("change",{bubbles:!0,key:t,keyCode:i,shiftKey:n,charCode:0}),document.dispatchEvent(r),r=new window.KeyboardEvent("keyup",{bubbles:!0,key:t,keyCode:i,shiftKey:n,charCode:0}),document.dispatchEvent(r)}let oe=!1,Q=!1,k=!1,s=!1,c=!1,He=!1,Jt=!1,zo=!1,Fo=!1,Uo=!1,Ho=!0,Yo=!1,Xt=!1,se=[],Ye=0,h=!1,dt=document.hasFocus(),we=V("goodTube_shorts");we||(u("goodTube_shorts","false"),we="false");let Ge=V("goodTube_hideInfoCards");Ge||(u("goodTube_hideInfoCards","false"),Ge="false");let Qe=V("goodTube_hideEndScreen");Qe||(u("goodTube_hideEndScreen","false"),Qe="false");let lt=V("goodTube_hideSuggestedVideos");lt||(u("goodTube_hideSuggestedVideos","false"),lt="false");let st=V("goodTube_hideComments");st||(u("goodTube_hideComments","false"),st="false");let ut=V("goodTube_hideAiSummaries");ut||(u("goodTube_hideAiSummaries","false"),ut="false");let We=V("goodTube_hideMembersOnlyVideos");We||(u("goodTube_hideMembersOnlyVideos","false"),We="false");let je=V("goodTube_alwaysStart");je||(u("goodTube_alwaysStart","false"),je="false");let ct=V("goodTube_blackBackground");ct||(u("goodTube_blackBackground","true"),ct="true");let ft=V("goodTube_instantPause");ft||(u("goodTube_instantPause","false"),ft="false");let M=V("goodTube_videosPerRow");M||(u("goodTube_videosPerRow","default"),M="default");let X=V("goodTube_autoplay");X||(u("goodTube_autoplay","true"),X="true");let ke=V("goodTube_playbackSpeed");ke||(ke="1");let C=Vo(),a=!1;function kn(){if(!a&&document.getElementById("goodTube_settings")){a=!0,oe&&oe.remove(),k&&k.remove(),Q&&k.remove();let t=document.querySelector(".goodTube_menuButton");t&&t.remove();let i=document.querySelector(".goodTube_menuClose");i&&i.remove(),window.top===window.self&&alert("Oops! Looks like you're using the old and new version of GoodTube at the same time! Please remove the old version (or things may not work properly).")}}setInterval(kn,0);function An(){if(a)return;let e=`
			.ytd-search ytd-shelf-renderer,
			ytd-reel-shelf-renderer,
			ytd-merch-shelf-renderer,
			ytd-action-companion-ad-renderer,
			ytd-display-ad-renderer,

			ytd-video-masthead-ad-advertiser-info-renderer,
			ytd-video-masthead-ad-primary-video-renderer,
			ytd-in-feed-ad-layout-renderer,
			ytd-ad-slot-renderer,
			ytd-statement-banner-renderer,
			ytd-banner-promo-renderer-background
			ytd-ad-slot-renderer,
			ytd-in-feed-ad-layout-renderer,
			ytd-engagement-panel-section-list-renderer:not(.ytd-popup-container):not([target-id='engagement-panel-clip-create']):not(.ytd-shorts),
			ytd-compact-video-renderer:has(.goodTube_hidden),
			ytd-rich-item-renderer:has(> #content > ytd-ad-slot-renderer)
			.ytd-video-masthead-ad-v3-renderer,
			div#root.style-scope.ytd-display-ad-renderer.yt-simple-endpoint,
			div#sparkles-container.style-scope.ytd-promoted-sparkles-web-renderer,
			div#main-container.style-scope.ytd-promoted-video-renderer,
			div#player-ads.style-scope.ytd-watch-flexy,
			#clarify-box,
			ytd-rich-item-renderer:has(> #content > ytd-ad-slot-renderer),

			ytm-rich-shelf-renderer,
			ytm-search ytm-shelf-renderer,
			ytm-button-renderer.icon-avatar_logged_out,
			ytm-companion-slot,
			ytm-reel-shelf-renderer,
			ytm-merch-shelf-renderer,
			ytm-action-companion-ad-renderer,
			ytm-display-ad-renderer,
			ytm-rich-section-renderer,
			ytm-video-masthead-ad-advertiser-info-renderer,
			ytm-video-masthead-ad-primary-video-renderer,
			ytm-in-feed-ad-layout-renderer,
			ytm-ad-slot-renderer,
			ytm-statement-banner-renderer,
			ytm-banner-promo-renderer-background
			ytm-ad-slot-renderer,
			ytm-in-feed-ad-layout-renderer,
			ytm-compact-video-renderer:has(.goodTube_hidden),
			ytm-rich-item-renderer:has(> #content > ytm-ad-slot-renderer)
			.ytm-video-masthead-ad-v3-renderer,
			div#root.style-scope.ytm-display-ad-renderer.yt-simple-endpoint,
			div#sparkles-container.style-scope.ytm-promoted-sparkles-web-renderer,
			div#main-container.style-scope.ytm-promoted-video-renderer,
			div#player-ads.style-scope.ytm-watch-flexy,
			ytd-compact-movie-renderer,

			yt-about-this-ad-renderer,
			masthead-ad,
			ad-slot-renderer,
			yt-mealbar-promo-renderer,
			statement-banner-style-type-compact,
			ytm-promoted-sparkles-web-renderer,
			tp-yt-iron-overlay-backdrop,
			#masthead-ad,

			#offer-module
			 {
				display: none !important;
			}

			.style-scope[page-subtype='channels'] ytd-shelf-renderer,
			.style-scope[page-subtype='channels'] ytm-shelf-renderer {
				display: block !important;
			}
		`;if(console.log("[GoodTube] Ads removed"),e+=`
			body:not(.goodTube_fallback) #player:not(.ytd-shorts):not(.ytd-channel-video-player-renderer),
			body:not(.goodTube_fallback) #player-full-bleed-container {
				visibility: hidden !important;
			}
		`,e+=`
			ytd-miniplayer,
			.ytp-miniplayer-button {
				display: none !important;
			}
		`,we==="false"?(e+=`
				ytm-pivot-bar-item-renderer:has(> .pivot-shorts),
				ytd-rich-section-renderer,
				grid-shelf-view-model {
					display: none !important;
				}
			`,console.log("[GoodTube] Shorts removed")):e+=`
				ytd-item-section-renderer[page-subtype='history'] ytd-reel-shelf-renderer {
					display: block !important;
				}
			`,lt==="true"&&(e+=`
				/* Hide suggested videos */
				ytd-watch-flexy #secondary #related {
					display: none !important;
				}

				/* Hide full sidebar if not playlist */
				ytd-watch-flexy #secondary:not(:has(ytd-playlist-panel-video-renderer)) {
					display: none !important;
				}
			`,console.log("[GoodTube] Suggested videos removed")),st==="true"&&(e+=`
				ytd-item-section-renderer.ytd-comments,
				#comments-button,
				#shorts-panel-container ytd-engagement-panel-section-list-renderer {
					display: none !important;
				}
			`,console.log("[GoodTube] Comments removed")),ut==="true"&&(e+=`
				ytd-expandable-metadata-renderer[has-video-summary] {
					display: none !important;
				}
			`,console.log("[GoodTube] AI summaries removed")),We==="true"&&console.log("[GoodTube] Members only videos removed"),M!=="default"&&M==parseFloat(M)){console.log("[GoodTube] Videos per row on the home page set to "+M);let i=100/parseFloat(M)+"%";e+=`
				ytd-rich-item-renderer[rendered-from-rich-grid] {
					width: calc(`+i+" - ((var(--ytd-rich-grid-item-margin) / 2)) / "+parseFloat(M-1)+" * "+parseFloat(M-1)*2+` ) !important;
					width: calc(`+i+" - ((var(--ytd-rich-grid-item-margin) / 2)) / "+parseFloat(M-1)+" * "+parseFloat(M-1)*2+` ) !important;
					margin-left: calc(var(--ytd-rich-grid-item-margin) / 2) !important;
					margin-right: calc(var(--ytd-rich-grid-item-margin) / 2) !important;
				}

				#contents.ytd-rich-grid-renderer {
					padding-right: 24px !important;
					box-sizing: border-box !important;
				}
			`}let t=document.createElement("style");t.textContent=e,document.head.appendChild(t)}function En(){if(a)return;document.querySelectorAll("ytd-rich-item-renderer:not(.goodTube_checked)").forEach(t=>{t.innerHTML.toLowerCase().indexOf("members only")!==-1&&J(t),t.classList.add("goodTube_checked")})}function Sn(){if(a||we==="true")return;window.location.href.indexOf("/shorts")!==-1&&!Uo&&(window.location.href=window.location.href.replace("/shorts","/watch"),Uo=!0),document.querySelectorAll("a:not(.goodTube_hidden)").forEach(i=>{i.href.indexOf("shorts/")!==-1&&(J(i),J(i.closest("ytd-video-renderer")),J(i.closest("ytd-compact-video-renderer")),J(i.closest("ytd-rich-grid-media")))}),document.querySelectorAll("yt-chip-cloud-chip-renderer:not(.goodTube_hidden):not(.goodTube_checked), yt-tab-shape:not(.goodTube_hidden):not(.goodTube_checked), ytd-guide-entry-renderer:not(.goodTube_checked)").forEach(i=>{i.innerHTML.toLowerCase().indexOf("shorts")!==-1&&J(i),i.classList.add("goodTube_checked")})}function In(){if(a)return;document.querySelectorAll("#description a, ytd-comments .yt-core-attributed-string a, ytm-expandable-video-description-body-renderer a, .comment-content a").forEach(t=>{!t.classList.contains("goodTube_timestampLink")&&t.getAttribute("href")&&t.getAttribute("href").indexOf(C.v)!==-1&&(t.classList.add("goodTube_timestampLink"),t.addEventListener("click",function(){if(a)return;let i=0,n=t.getAttribute("href").split("t=");typeof n[1]<"u"&&(i=parseFloat(n[1].replace("s",""))),Ko(i)}))})}let pt=setTimeout(()=>{},0);function $t(){if(a)return;if(we==="true"&&window.location.href.indexOf("/shorts")!==-1){clearTimeout(pt),pt=setTimeout($t,100);return}document.querySelectorAll("video").forEach(t=>{h?!t.paused&&!t.closest("#movie_player")&&(t.muted=!0,t.volume=0,t.pause()):!t.paused&&!Jt&&t.closest("#movie_player")&&!t.closest("#inline_player")&&(t.muted=!0,t.volume=0,!Zt()||!t.closest("#movie_player")?(t.pause(),t.playbackRate=ke):t.play())}),clearTimeout(pt),pt=setTimeout($t,100)}function Mn(){if(a||Fo)return;let e=document.querySelector("#movie_player .ytp-autonav-toggle-button");e&&(e.getAttribute("aria-checked")==="true"&&K(e),Fo=!0)}function Cn(){if(a)return;document.querySelectorAll("yt-confirm-dialog-renderer").forEach(t=>{if(t.innerHTML.indexOf("Video paused. Continue watching?")!==-1){let i=t.querySelector("#confirm-button");i&&K(i)}})}function Ln(e,t){if(a||!e||!t)return;let i=document.querySelector("ytd-watch-flexy");i&&G()&&!h&&(i.style.setProperty("--ytd-watch-flexy-width-ratio",e),i.style.setProperty("--ytd-watch-flexy-height-ratio",t))}function Go(){if(a)return;let e=document.querySelector("ytd-watch-flexy");e&&(e.style.removeProperty("--ytd-watch-flexy-width-ratio"),e.style.removeProperty("--ytd-watch-flexy-height-ratio"))}let Qo=setTimeout(()=>{},0);function Wo(){if(a)return;s=document.getElementById("movie_player");let e=!1;if(s&&typeof s.getVideoData=="function"&&(e=s.getVideoData()),!e){clearTimeout(Qo),Qo=setTimeout(Wo,100);return}let t="transparent";ct==="true"&&(t="#000000");let i=document.createElement("style");i.textContent=`
			/* Player wrapper */
			#goodTube_playerWrapper {
				border-radius: 12px;
				background: `+t+`;
				position: absolute;
				top: 0;
				left: 0;
				z-index: 999;
				overflow: hidden;
			}

			/* Theater mode */
			#goodTube_playerWrapper.goodTube_theater {
				border-radius: 0;
				background: #000000;
			}

			/* No black background on dark theme */
			html[darker-dark-theme][dark] #goodTube_playerWrapper {
				background: transparent;
			}

			/* Fix size of Youtube player (this has to do with us setting the aspect ratio inside "goodTube_youtube_setAspectRatio") */
			body:not(.goodTube_fallback) #primary.ytd-watch-flexy {
				max-width: calc(177.77777778vh - var(--ytd-watch-flexy-masthead-height) * 1.7777777778 - var(--ytd-margin-6x) * 1.7777777778 - var(--ytd-watch-flexy-space-below-player) * 1.7777777778) !important;
				min-width: calc(var(--ytd-watch-flexy-min-player-height) * 1.7777777778) !important;
			}
		`,document.head.appendChild(i);let n=document.createElement("div");n.id="goodTube_playerWrapper",n.classList.add("goodTube_hidden"),document.body.appendChild(n);let r=document.createElement("iframe");r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("frameborder","0"),r.setAttribute("scrolling","yes"),r.setAttribute("allow","accelerometer *; autoplay *; clipboard-write *; encrypted-media *; gyroscope *; picture-in-picture *; web-share *;"),r.setAttribute("referrerpolicy","strict-origin-when-cross-origin"),r.setAttribute("allowfullscreen",!0),r.style.display="none",n.appendChild(r),r.contentWindow.location.replace("https://wikipedia.org/wiki/Bruce_Lee?goodTubeProxy=1"),oe=n,k=r,oi(),setInterval(oi,100)}let eo=!1;function Dn(){if(!a)if(h)eo||(gt(!0),eo=!0);else{eo=!1;let e=document.querySelector("#player");if((!e||e.offsetHeight<=0)&&(e=document.querySelector("#ytd-player")),(!e||e.offsetHeight<=0)&&(e=document.querySelector(".player-size")),(!e||e.offsetHeight<=0)&&(e=document.querySelector(".html5-video-player")),(!e||e.offsetHeight<=0)&&(e=document.querySelector("#movie_player")),e&&e.offsetHeight>0){let t=e.getBoundingClientRect();oe.style.top=t.top+window.scrollY+"px",oe.style.left=t.left+window.scrollX+"px",oe.style.width=e.offsetWidth+"px",oe.style.height=e.offsetHeight+"px",at(oe)}}}function Rn(){if(a)return;let e=[],t=document.querySelectorAll(".playlist-items ytd-playlist-panel-video-renderer");t.forEach((i,n)=>{let r="",f=i.querySelector("#thumbnail");if(f){let m=f.getAttribute("href");if(m){let y=m.split("/watch?v=");y.length>=1&&(y=y[1].split("&"),y.length&&(r=y[0]))}}r&&(e.push(r),r===C.v&&(Ye=n))}),t.length||(Ye=0),se=e}let jo=setTimeout(()=>{},0);function Zo(){if(a)return;if(ue="",On(),!Yo){clearTimeout(jo),jo=setTimeout(Zo,100);return}let e=0;if(je==="false"&&typeof C.t<"u"&&(e=parseFloat(C.t.replace("s",""))),Ho){G()||gt();let t="";e>0&&(t="&start="+e),k.contentWindow.postMessage("goodTube_src_https://www.youtube.com/embed/"+C.v+"?goodTubeEmbed=1&autoplay=1&goodTube_autoplay="+X+"&goodTube_playbackSpeed="+ke+"&goodTube_hideInfoCards="+Ge+"&goodTube_hideEndScreen="+Qe+"&goodTube_instantPause="+ft+t,"*"),Ho=!1}else k.contentWindow.postMessage("goodTube_load_"+C.v+"|||"+e,"*");je==="false"&&to(),navigator.userAgent.toLowerCase().indexOf("firefox")!==-1&&bt()}let mt=setTimeout(()=>{},0);function to(){if(a)return;if(!Xt){clearTimeout(mt),mt=setTimeout(to,100);return}s=document.getElementById("movie_player");let e=!1,t=!1;if(s&&typeof s.getVideoData=="function"&&typeof s.getCurrentTime=="function"&&(e=s.getVideoData(),t=e.video_id),!e||!t||t!==C.v){clearTimeout(mt),mt=setTimeout(to,100);return}let i=Math.floor(s.getCurrentTime());i>=10&&Ko(i,t)}function gt(e=!1){a||(He||(e?(s=document.getElementById("movie_player"),s&&typeof s.pauseVideo=="function"&&typeof s.mute=="function"&&(s.pauseVideo(),s.mute())):k.contentWindow.postMessage("goodTube_stopVideo","*")),J(oe))}function Ko(e,t=""){a||k.contentWindow.postMessage("goodTube_skipTo_"+e+"|||"+t,"*")}function On(){a||k.contentWindow.postMessage("goodTube_pause","*")}let Ze=setTimeout(()=>{},0);function bt(){if(!a){if(!dt||!Xt){clearTimeout(Ze),Ze=setTimeout(bt,100);return}if(!h)k.contentWindow.postMessage("goodTube_play|||"+C.v,"*");else{s=document.getElementById("movie_player");let e=!1;if(s&&typeof s.getVideoData=="function"&&(e=s.getVideoData()),!e||C.v!==e.video_id){clearTimeout(Ze),Ze=setTimeout(bt,100);return}let t=document.querySelector("#movie_player video");if(t&&t.currentTime>=t.duration)return;s&&typeof s.playVideo=="function"&&setTimeout(()=>{s.playVideo()},100)}}}function Nn(){a||(se.length>0?k.contentWindow.postMessage("goodTube_prevButton_true","*"):k.contentWindow.postMessage("goodTube_prevButton_false","*"))}function Pn(){a||(document.addEventListener("keydown",Jo,!0),document.addEventListener("keyup",Jo,!0))}function Jo(e){if(a||!G()||h)return;let t=[{key:">",code:!1,ctrl:!1,shift:!0,alt:!1},{key:"<",code:!1,ctrl:!1,shift:!0,alt:!1},{key:",",code:!1,ctrl:!1,shift:!1,alt:!1},{key:".",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"arrowleft",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"arrowright",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"j",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"l",code:!1,ctrl:!1,shift:!1,alt:!1},{key:" ",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"k",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"mediaplaypause",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"m",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"f",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"c",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"o",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"w",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"=",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"-",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"w",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"a",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"s",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"d",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"[",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"]",code:!1,ctrl:!1,shift:!1,alt:!1},{key:!1,code:"numpadadd",ctrl:!1,shift:!1,alt:!1},{key:!1,code:"numpadsubtract",ctrl:!1,shift:!1,alt:!1},{key:"0",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"1",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"2",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"3",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"4",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"5",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"6",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"7",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"8",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"9",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"i",code:!1,ctrl:!1,shift:!1,alt:!1},{key:"arrowleft",code:!1,ctrl:!0,shift:!1,alt:!1},{key:"arrowright",code:!1,ctrl:!0,shift:!1,alt:!1}],i=e.key.toLowerCase(),n=e.code.toLowerCase(),r=e.ctrlKey;e.metaKey&&(r=e.metaKey);let f=e.shiftKey,m=e.altKey,y=!1;if(t.forEach(v=>{(i===v.key||n===v.code)&&r===v.ctrl&&f===v.shift&&m===v.alt&&(y=!0)}),y){let v=e.srcElement,A=!1,ge=!1;if(v&&(typeof v.nodeName<"u"&&(A=v.nodeName.toLowerCase()),typeof v.getAttribute<"u"&&(ge=v.getAttribute("id"))),!v||A.indexOf("input")===-1&&A.indexOf("label")===-1&&A.indexOf("select")===-1&&A.indexOf("textarea")===-1&&A.indexOf("fieldset")===-1&&A.indexOf("legend")===-1&&A.indexOf("datalist")===-1&&A.indexOf("output")===-1&&A.indexOf("option")===-1&&A.indexOf("optgroup")===-1&&ge!=="contenteditable-root"){e.preventDefault(),e.stopImmediatePropagation();let de=e.key,be=e.keyCode;i==="mediaplaypause"&&(de=" ",be=32),k.contentWindow.postMessage("goodTube_shortcut_"+e.type+"_"+de+"_"+be+"_"+e.ctrlKey+"_"+e.metaKey+"_"+e.shiftKey+"_"+e.altKey,"*")}}}function oo(){a||(navigator.userAgent.toLowerCase().indexOf("firefox")!==-1?dt?Kt("next"):(s=document.getElementById("movie_player"),s&&typeof s.nextVideo=="function"&&s.nextVideo()):Kt("next"),console.log("[GoodTube] Playing next video..."))}function Bn(){a||(se.length>0&&Ye===0?(k.contentWindow.postMessage("goodTube_skipTo_0|||"+C.v,"*"),console.log("[GoodTube] Restarting video...")):(Kt("previous"),console.log("[GoodTube] Playing previous video...")))}function qn(){a||(X==="true"||se.length>0&&Ye<se.length-1)&&oo()}function Vn(){if(a)return;let e=!1;X==="true"?e=!0:se.length>0&&(e=!0,Ye===se.length-1&&(e=!1)),e?k.contentWindow.postMessage("goodTube_endScreen_hide","*"):k.contentWindow.postMessage("goodTube_endScreen_show","*")}function zn(){if(a)return;let e=new Date,t=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()),n=new Date(t).toISOString().split("T")[0];V("goodTube_uniqueUserStat_"+n)||(fetch("https://jamenlyndon.com/_other/stats/users_daily.php",{referrerPolicy:"no-referrer"}),u("goodTube_uniqueUserStat_"+n,"true",2)),V("goodTube_uniqueUserStat")||(fetch("https://jamenlyndon.com/_other/stats/users_total.php",{referrerPolicy:"no-referrer"}),u("goodTube_uniqueUserStat","true"))}function Fn(){a||fetch("https://jamenlyndon.com/_other/stats/videos.php",{referrerPolicy:"no-referrer"})}let Xo=!1,$o=setTimeout(()=>{},0);function ei(e=!1){a||(e||(window.top===window.self&&(console.log(`
==================================================
    ______                ________      __
   / ____/___  ____  ____/ /_  __/_  __/ /_  ___
  / / __/ __ \\/ __ \\/ __  / / / / / / / __ \\/ _ \\
 / /_/ / /_/ / /_/ / /_/ / / / / /_/ / /_/ /  __/
 \\____/\\____/\\____/\\____/ /_/  \\____/_____/\\___/

==================================================`),console.log("[GoodTube] Initiating...")),window.addEventListener("message",ti),$t(),document.addEventListener("DOMContentLoaded",io),(document.readyState==="interactive"||document.readyState==="complete")&&io()),!document.body||!document.head?(clearTimeout($o),$o=setTimeout(()=>{ei(!0)},1)):io())}function io(){a||Xo||(Xo=!0,Wo(),Hn(),xn(),An(),Yn(),zn(),Pn(),Un())}let _t=setTimeout(()=>{},0);function ti(e){if(!a&&typeof e.data=="string")if(!document.body||!document.head?(clearTimeout(_t),_t=setTimeout(()=>{ti(e)},100)):e.data==="goodTube_proxyIframe_loaded"?Yo=!0:e.data==="goodTube_playerIframe_loaded"&&(Xt=!0,k.style.display="block"),e.data.indexOf("goodTube_pip_")!==-1)e.data.replace("goodTube_pip_","")==="true"?He=!0:(He=!1,typeof C.v>"u"&&gt());else if(e.data.indexOf("goodTube_playbackSpeed_")!==-1)u("goodTube_playbackSpeed",e.data.replace("goodTube_playbackSpeed_","")),ke=e.data.replace("goodTube_playbackSpeed_","");else if(e.data==="goodTube_prevVideo")Bn();else if(e.data==="goodTube_nextVideo")oo();else if(e.data==="goodTube_videoEnded")qn();else if(e.data==="goodTube_theater"&&!document.fullscreenElement){let t=document.querySelector(".ytp-size-button");t&&K(t)}else if(e.data==="goodTube_autoplay_false")u("goodTube_autoplay","false"),X="false";else if(e.data==="goodTube_autoplay_true")u("goodTube_autoplay","true"),X="true";else if(e.data.indexOf("goodTube_syncMainPlayer_")!==-1&&G()&&!h){let t=parseFloat(e.data.replace("goodTube_syncMainPlayer_","")),i=document.querySelector("#movie_player video");if(s=document.getElementById("movie_player"),!s||typeof s.seekTo!="function")return;i&&Math.floor(i.currentTime)!==Math.floor(t)&&!Zt()&&(Jt=!0,s.playVideo(),s.seekTo(t-.5),s.mute(),s.setVolume(0),i.volume=0,i.muted=!0,clearTimeout(_t),_t=setTimeout(()=>{Jt=!1},1e3))}else if(e.data==="goodTube_fallback_enable")h=!0,document.body&&!document.body.classList.contains("goodTube_fallback")&&document.body.classList.add("goodTube_fallback"),Go(),ri(),navigator.userAgent.toLowerCase().indexOf("firefox")!==-1&&bt(),document.fullscreenElement&&(document.exitFullscreen(),window.setTimeout(()=>{let t=document.querySelector(".ytp-fullscreen-button");t&&K(t)},100));else if(e.data==="goodTube_fallback_disable")h=!1,document.body&&document.body.classList.contains("goodTube_fallback")&&document.body.classList.remove("goodTube_fallback"),document.fullscreenElement&&(document.exitFullscreen(),window.setTimeout(()=>{k.contentWindow.postMessage("goodTube_fullscreen","*")},100));else if(e.data.indexOf("goodTube_syncAspectRatio_")!==-1)if(window.location.href.indexOf("/shorts")!==-1)Go();else{let t=e.data.replace("goodTube_syncAspectRatio_","").split("_");Ln(t[0],t[1])}else e.data==="goodTube_cancelPlay"&&clearTimeout(Ze)}function oi(){if(a)return;let e=zo;e&&(e=e.split("#")[0],e=e.split("index=")[0]);let t=window.location.href;t&&(t=t.split("#")[0],t=t.split("index=")[0]),e!==t&&(C=Vo(),G()?(Zo(),Fn()):gt(),zo=window.location.href),G()?(Rn(),Nn(),Vn(),In(),h||Mn(),Cn(),Dn(),Gn()):k.contentWindow.postMessage("goodTube_stopVideo","*"),Sn(),We==="true"&&En()}function Un(){if(a)return;let e=document.createElement("div");document.body.appendChild(e);let t=" checked";we==="true"&&(t="");let i="";Ge==="true"&&(i=" checked");let n="";Qe==="true"&&(n=" checked");let r="";lt==="true"&&(r=" checked");let f="";st==="true"&&(f=" checked");let m="";ut==="true"&&(m=" checked");let y="";We==="true"&&(y=" checked");let v="";je==="true"&&(v=" checked");let A="";ct==="true"&&(A=" checked");let ge="";ft==="true"&&(ge=" checked");let de="",be="",_e="",le="",wt="",kt="",At="",Et="";de==="default"?de=" selected":M==="2"?be=" selected":M==="3"?_e=" selected":M==="4"?le=" selected":M==="5"?wt=" selected":M==="6"?kt=" selected":M==="7"?At=" selected":M==="8"&&(Et=" selected"),rt(e,`
			<!-- Menu Button
			==================================================================================================== -->
			<a href='javascript:;' class='goodTube_menuButton'>
				<div class='goodTube_notice'>GoodTube<br>UPDATE</div>
				<img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAZCAYAAABQDyyRAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZBOUIxQTYzNDc0QjExRjA4OTZDRTk5QkFDRDUyNkFCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjZBOUIxQTY0NDc0QjExRjA4OTZDRTk5QkFDRDUyNkFCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NkE5QjFBNjE0NzRCMTFGMDg5NkNFOTlCQUNENTI2QUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NkE5QjFBNjI0NzRCMTFGMDg5NkNFOTlCQUNENTI2QUIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7jrX2zAAADr0lEQVR42qRWzW4TMRCe2W4QFyqkvkARyqFQCXU3W4S48gDwClXzxwM1TVJehRMcaLKukIBeSlW1EufCoRTlZ/B41+txNgktdRRls2OP5/vmm7GRiECOYb2Zv0D9Jaj1uwh3GKrZBhIeo17HswfyT9poU+1tGzbevIYgwDtvzkNvTgaJfppMxjRrD0SkhLzddArnHz7CLDP/O+JeBzGHkWhwSoNkoNYeGuRRnR43XsHDFxsA45EJm1cN6y0zsdbfRzvPeovSHt6ChTwBABPtPwgr4AXATun0TD/8MhM31tcB9FcpBVG3g2WHZXZU3CheyuAYbbVahYuLc4Dra0h2dkwsadSgWPUwtBE6p8QRzUWCiP9ASgVStwZgdfUBPN3cBPjyFaTABQO+o+Nvx3B1dWXy5yd0hVU8NwqLOm20PHqYwewdQhxHBUgLJrSLOb9n70+Balt6atVMYlolnZTrQLIxnZLnFGuhFxhTjckTzc4P+HmpS+Ly0rOHkl6mEJfk2hInU8HlKkVGQKUUANzXD4/g5PsEMD0xfmPVNxac3cSI6XkCNB7nnUkVG/LUuJn43gk87ajuoQhc2zWjBWPa12z14DxFM23GmOjFwyOIGttOW5zHorWh29y6UUeZ3QYTbxUg5pWuC6DbJ4cqe0y7A909tvSeoUPLiMhuTi4xNoD0qFB4mo4BGXVzG2Z9Q7OOngb8ruHKBOVCsymKShObSzbsM8r3YvOSCHsHZB2rdCRkRLKV5QiV+O8CdVFhQQzmQk7V2B1GcSWz856NXd2IDPUIg4FukQH37jZKQRIJBkgExVqQlDL1CI4pcvUQd9uiM3ZIHzeQJBWT9uws0KiTAzcJugdFUtnX4HBk/G5vux4Oh4Psd22tJMQ/v6eCQAQLEpq7aAFyIHEcao009khGKMXI6eAqgFqU9Qh0EimEaZENRzO1r+cOlFkb1yol8Zk1zQ4Fcxq+O8jJ14KXbVsVBMXpCQieQIt3pbJdVoZ6hVKjvI+3kU8zTCdFZ8QkKonZdlEzPg2L8sSX9yDa66DSSI2/qOJgLCpD1kMhRB0U4jNNoxVTC1mYONOmuYEjTY3v6PM7VK39zDwJjI+o6+d97lng17fXGECesmTpFpOzbASAgeslaOwsxpVyimluAARAi65VTqT2EFk2JOJS3mcPuKV3P12Oaa4HRhTpFNzkCpbmOWdAhnKh/IWX0gV3HODUeg3oBgPzD9wg3HCpVUdeg/6tr8cR9wgo1/288VeAAQAP+uu2vDbm2wAAAABJRU5ErkJggg%3D%3D'>
			</a> <!-- .goodTube_menuButton -->
			<a href='javascript:;' class='goodTube_menuClose'>&#10006;</a>


			<!-- Modal
			==================================================================================================== -->
			<div class='goodTube_modal'>
				<div class='goodTube_modal_overlay'></div>

				<div class='goodTube_modal_inner'>
					<a class='goodTube_modal_closeButton' href='javascript:;'>&#10006;</a>


					<div class='goodTube_title'>
						IMPORTANT UPDATE -<br>
						\u{1F389} GoodTube is now an official browser extension!!
					</div>
					<div class='goodTube_content'>
						<div class="goodTube_text">
							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>Support for this version of GoodTube will end Jan 1st, 2026</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										Please change over to using the official extension before support ends. Don't forget to remove this old version once you've swapped over.
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>Does the extension remove the floating settings menu icon?</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										Yes it does! Making this an extension allows me to use a normal extension menu (hidden until you click on it at the top of your browser).<br>
										<br>
										With this older version, unfortunately I have no other way to provide a settings menu. Sorry it's been so annoying having it down the bottom all the time!
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>What are the new features?</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										New features:<br>
										<ul class='goodTube_list'>
											<li>Remove "who's still listening in 2025" style comments (optional)</li>
											<li>Faster loading speed</li>
											<li>Improved privacy and security</li>
										</ul>
										<br>
										Upcoming new features:<br>
										<ul class='goodTube_list'>
											<li>Automatically set video quality to highest / lowest / whatever you want</li>
											<li>Always start in theater mode</li>
											<li>Remove all AI related stuff</li>
											<li>Support for transcripts</li>
											<li>Fixed shuffle and loop functionality for playlists</li>
											<li>And more over time</li>
										</ul>
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>Does the extension cost anything?</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										The extension gives you a 7 day free trial. After that it costs $2, once only, for unlimited life time access on as many devices as you like.<br>
										<br>
										Please note that this existing free version is NOT being removed. You are welcome to continue to use it for as long as you like. Just remember that it is no longer being supported or updated.<br>
										<br>
										The decision to make this a paid extension has not come easily and I've tried to make it as cheap as possible. The priority remains keeping this adblocker available to <i>everyone</i>.<br>
										<br>
										With that in mind, I will give you free unlimited access:<br>
										<ul class='goodTube_list'>
											<li>If you cannot afford this due to your financial or political situation.</li>
											<li>If you're one of the amazing people who donated to this project previously (THANK YOU so much for your support!!)</li>
										</ul>
										<br>
										Please send an email to <a href='mailto:goodtube4u@gmail.com'>goodtube4u@gmail.com</a> to request free access.
									</div>
								</div>
							</div>
						</div>

						<div class='goodTube_buttons'>
						<a href='https://chromewebstore.google.com/detail/goodtube-adblock-for-yout/mnlobacbpcnaibnhmfcpdfllcipgnfhe' class='goodTube_button' target='_blank'>Download from the Chrome Web Store (for most browsers)</a><br>
						<br>
						<a href='https://addons.mozilla.org/en-US/firefox/addon/goodtube-adblock-for-youtube/' class='goodTube_button' target='_blank'>Download for Firefox</a>
					</div>
					</div> <!-- .goodTube_content -->


					<div class='goodTube_title'>Settings</div>
					<div class='goodTube_content'>

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_shorts' name='goodTube_option_shorts' id='goodTube_option_shorts'`+t+`>
							<label for='goodTube_option_shorts'>Remove all shorts from Youtube</label>
						</div> <!-- .goodTube_setting -->

							<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_hideInfoCards' name='goodTube_option_hideInfoCards' id='goodTube_option_hideInfoCards'`+i+`>
							<label for='goodTube_option_hideInfoCards'>Hide info cards from videos</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_hideEndScreen' name='goodTube_option_hideEndScreen' id='goodTube_option_hideEndScreen'`+n+`>
							<label for='goodTube_option_hideEndScreen'>Hide end screen suggested videos</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_hideSuggestedVideos' name='goodTube_option_hideSuggestedVideos' id='goodTube_option_hideSuggestedVideos'`+r+`>
							<label for='goodTube_option_hideSuggestedVideos'>Hide sidebar suggested videos</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_hideComments' name='goodTube_option_hideComments' id='goodTube_option_hideComments'`+f+`>
							<label for='goodTube_option_hideComments'>Hide comments</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_hideAiSummaries' name='goodTube_option_hideAiSummaries' id='goodTube_option_hideAiSummaries'`+m+`>
							<label for='goodTube_option_hideAiSummaries'>Hide AI summaries</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_hideMembersOnlyVideos' name='goodTube_option_hideMembersOnlyVideos' id='goodTube_option_hideMembersOnlyVideos'`+y+`>
							<label for='goodTube_option_hideMembersOnlyVideos'>Hide members only videos (paid channel restricted content)</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_alwaysStart' name='goodTube_option_alwaysStart' id='goodTube_option_alwaysStart'`+v+`>
							<label for='goodTube_option_alwaysStart'>Always play videos from the start</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_blackBackground' name='goodTube_option_blackBackground' id='goodTube_option_blackBackground'`+A+`>
							<label for='goodTube_option_blackBackground'>Use a black background for the video player</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<input type='checkbox' class='goodTube_option_instantPause' name='goodTube_option_instantPause' id='goodTube_option_instantPause'`+ge+`>
							<label for='goodTube_option_instantPause'>Enable instant pausing (this disables holding "space", "k" or "left mouse button" for 2x speed)</label>
						</div> <!-- .goodTube_setting -->

						<div class='goodTube_setting'>
							<select class='goodTube_option_videosPerRow' name='goodTube_option_videosPerRow' id='goodTube_option_videosPerRow'>
								<option`+de+`>Default</option>
								<option`+be+`>2</option>
								<option`+_e+`>3</option>
								<option`+le+`>4</option>
								<option`+wt+`>5</option>
								<option`+kt+`>6</option>
								<option`+At+`>7</option>
								<option`+Et+`>8</option>
							</select>
							<label for='goodTube_option_videosPerRow'>Videos per row on the home page</label>
						</div> <!-- .goodTube_setting -->

						<button class='goodTube_button' id='goodTube_button_saveSettings'>Save and refresh</button>
					</div> <!-- .goodTube_content -->


					<div class='goodTube_title'>FAQs</div>
					<div class='goodTube_content'>
						<div class='goodTube_text'>
							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>How can I share this with friends?</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										You can send them <a href='https://github.com/goodtube4u/goodtube' target='_blank'>this link</a>. It has all of the install instructions.
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>I'm seeing a black square with no video</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										Try uninstalling both Tampermonkey and GoodTube and then reinstalling them. Most of the time this will resolve the issue. If that doesn't work, you may have a conflicting extension. Try turning off your other extensions for a second, see if that works. Then turn them back on one at a time until you work out which one is causing the problem.
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>Playlists skip to the next video every few seconds</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										This is usually caused by another adblocker which Youtube is detecting. To fix this problem, first disable all of your other adblockers (for Youtube only, you can leave them on for other websites). Then clear your cookies and cache (this is important). Once that's done, refresh Youtube and the problem should be fixed.
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>I can't use the miniplayer</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										The Youtube miniplayer is not supported. Instead this uses "Picture in Picture" mode, which is the new standard for the web.
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>Transcripts are not working</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										Unfortunately transcripts are currently not supported. I'm working on this, hang tight. Hopefully these will be added soon!
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>Is this compatible with other Youtube extensions?</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										Probably not if they change the main video player, but otherwise they should work fine.<br>
										<br>
										This heavily modifies how Youtube works in order to block ads. A key part of this is replacing the default Youtube player with their "embedded" player. This means that unless your extension also works for embedded Youtube videos (like where you view a Youtube video on another website), it generally won't be compatible.<br>
										<br>
										Unfortunately there's not much I can do to support these extensions as a result.
									</div>
								</div>
							</div>

							<div class='goodTube_modal_faq' data-open='false'>
								<div class='goodTube_modal_question'>
									<div class='goodTube_modal_question_text'>I'm having a different problem</div>
									<div class='goodTube_modal_question_arrow'></div>
								</div>
								<div class='goodTube_modal_answer'>
									<div class='goodTube_modal_answerInner'>
										If you're having a different issue, most of the time you will find it's caused by a conflicting extension you have installed.<br>
										<br>
										To test this, first turn off all other extensions you have installed. Leave only GoodTube enabled.<br>
										<br>
										Then refresh Youtube and check if the problem is fixed. If it is, then you know one of them is causing the issue. Turn your other extensions back on one at a time until you find the problem.
									</div>
								</div>
							</div>
						</div>
					</div> <!-- .goodTube_content -->


					<div class='goodTube_title'>Report an issue</div>
					<div class='goodTube_content'>
						<div class='goodTube_text goodTube_successText'>Your message has been sent successfully.</div>
						<form class='goodTube_report' onSubmit='javascript:;'>
							<div class='goodTube_text'>
								I am dedicated to helping every single person get this working. Everyone is important and if you have any problems at all, please let me know. I will respond and do my best to help!<br>
								<br>
								<i>* Please read the FAQs above before reporting an issue.</i>
							</div>
							<input class='goodTube_reportEmail' type='email' placeholder='Email address' required>
							<textarea class='goodTube_reportText' placeholder='Enter your message here...\r\rPlease note - most reported issues are caused by a conflicting extension. Please first try turning off all of your other extensions. Refresh Youtube, check if the problem is fixed. If it is, then you know something is conflicting. Turn your other extensions back on one at a time until you find the cause. Please try this first before reporting an issue!' required></textarea>
							<input type='submit' class='goodTube_button' id='goodTube_button_submitReport' value='Submit'>
						</form> <!-- .goodTube_report -->
					</div> <!-- .goodTube_content -->


				</div> <!-- .goodTube_modal_inner -->
			</div> <!-- .goodTube_modal -->
		`);let ye=document.createElement("style");ye.textContent=`
			/* Menu button
			---------------------------------------------------------------------------------------------------- */
			.goodTube_menuButton {
				display: block;
				position: fixed;
				bottom: 26px;
				right: 21px;
				background: #0f0f0f;
				border-radius: 9999px;
				box-shadow: 0 0 10px rgba(0, 0, 0, .5);
				width: 48px;
				height: 48px;
				z-index: 999;
				transition: background .2s linear, opacity .2s linear, box-shadow .2s linear;
				opacity: 1;
				cursor: pointer;
			}

			.goodTube_menuButton .goodTube_notice {
				background: #e84a82;
				color: #ffffff;
				font-size: 11px;
				font-weight: 500;
				padding-left: 8px;
				padding-right: 8px;
				padding-top: 4px;
				padding-bottom: 4px;
				border-radius: 4px;
				position: absolute;
				bottom: -14px;
				left: -10px;
				text-align: center;
				z-index: 1;
			}

			.goodTube_menuButton img {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				pointer-events: none;
				width: 26px;
			}

			.goodTube_menuButton::before {
				content: 'Settings';
				background: rgba(0, 0, 0, .9);
				border-radius: 4px;
				color: #ffffff;
				font-size: 10px;
				font-weight: 700;
				text-transform: uppercase;
				padding-top: 4px;
				padding-bottom: 4px;
				padding-left: 8px;
				padding-right: 8px;
				position: absolute;
				left: 50%;
				top: -26px;
				transform: translateX(-50%);
				letter-spacing: 0.04em;
				opacity: 0;
				transition: opacity .2s ease-in-out, top .2s ease-in-out;
				pointer-events: none;
				text-decoration: none;
			}

			.goodTube_menuButton::after {
				content: '';
				position: absolute;
				top: -6px;
				left: 50%;
				transform: translateX(-50%);
				width: 0;
				height: 0;
				border-left: 5px solid transparent;
				border-right: 5px solid transparent;
				border-top: 5px solid rgba(0, 0, 0, .9);
				opacity: 0;
				transition: opacity .2s ease-in-out, top .2s ease-in-out;
				pointer-events: none;
				text-decoration: none;
			}

			.goodTube_menuButton:hover {
				background: #252525;
				box-shadow: 0 0 12px rgba(0, 0, 0, .5);
			}

			.goodTube_menuButton:hover::before,
			.goodTube_menuButton:hover::after {
				opacity: 1;
			}

			.goodTube_menuButton:hover::before {
				top: -29px;
			}

			.goodTube_menuButton:hover::after {
				top: -9px;
			}

			.goodTube_menuClose {
				display: block;
				position: fixed;
				bottom: 60px;
				right: 16px;
				width: 14px;
				height: 14px;
				background: #ffffff;
				color: #000000;
				font-size: 9px;
				font-weight: 700;
				border-radius: 999px;
				text-align: center;
				line-height: 13px;
				z-index: 9999;
				box-shadow: 0 0 4px rgba(0, 0, 0, .5);
				opacity: 1;
				text-decoration: none;
				cursor: pointer;
			}


			/* Modal container
			---------------------------------------------------------------------------------------------------- */
			.goodTube_modal {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				z-index: 9999;
				opacity: 0;
				transition: opacity .2s linear;
				pointer-events: none;
				backface-visibility: hidden;
				min-width: 320px;
			}
			.goodTube_modal:not(.visible) .goodTube_button {
				pointer-events: none;
			}

			.goodTube_modal.visible {
				pointer-events: all;
				opacity: 1;
			}
			.goodTube_modal.visible .goodTube_button {
				pointer-events: all;
			}

			.goodTube_modal * {
				box-sizing: border-box;
				padding: 0;
				margin: 0;
			}

			.goodTube_modal .goodTube_modal_overlay {
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				z-index: 1;
				background: rgba(0,0,0,.8);
			}

			.goodTube_modal .goodTube_modal_inner {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(round(-50%, 1px), round(-50%, 1px));
				width: 780px;
				max-width: calc(100% - 32px);
				max-height: calc(100% - 32px);
				z-index: 2;
				background: #ffffff;
				border-radius: 12px;
				box-shadow: 0 0 24px rgba(0, 0, 0, .5);
				font-family: Roboto, Arial, sans-serif;
				padding: 24px;
				overflow: auto;
			}

			.goodTube_modal .goodTube_modal_inner .goodTube_modal_closeButton {
				position: absolute;
				top: 17px;
				right: 12px;
				color: #333;
				font-size: 20px;
				font-weight: 400;
				text-decoration: none;
				width: 40px;
				height: 40px;
				background: #ffffff;
				border-radius: 9999px;
				text-align: center;
				line-height: 40px;
				transition: background .2s linear;
				cursor: pointer;
			}

			.goodTube_modal .goodTube_modal_inner .goodTube_modal_closeButton:hover {
				background: #dddddd;
			}


			/* Modal inner
			---------------------------------------------------------------------------------------------------- */
			.goodTube_modal .goodTube_title {
				font-weight: 700;
				font-size: 22px;
				padding-bottom: 16px;
				line-height: 32px;
			}

			.goodTube_modal .goodTube_content {
				margin-bottom: 48px;

				&:last-child {
					margin-bottom: 0;
				}
			}

			.goodTube_modal .goodTube_content .goodTube_setting {
				display: flex;
				gap: 12px;
				align-items: center;
				margin-bottom: 16px;
			}

			.goodTube_modal .goodTube_content .goodTube_setting input {
				width: 24px;
				height: 24px;
				min-width: 24px;
				min-height: 24px;
				border-radius: 4px;
				border: 1px solid #333;
				overflow: hidden;
				cursor: pointer;
			}

			.goodTube_modal .goodTube_content .goodTube_setting select {
				border-radius: 4px;
				border: 1px solid #999;
				width: 100%;
				font-size: 14px;
				color: #000000;
				padding-top: 8px;
				padding-bottom: 8px;
				padding-left: 8px;
				padding-right: 16px;
				font-family: Roboto, Arial, sans-serif;
				transition: border .2s linear;
				width: 96px;
				min-width: 96px;
				font-weight: 400;
			}

			.goodTube_modal .goodTube_content .goodTube_setting select {
				border: 1px solid #333;
			}

			.goodTube_modal .goodTube_content .goodTube_setting label {
				font-size: 15px;
				color: #000000;
				font-weight: 500;
				cursor: pointer;
			}

			.goodTube_modal .goodTube_buttons {
				margin-bottom: 24px;
			}

			.goodTube_modal .goodTube_list {
				list-style-type: disc;
				list-style-position: inside;
				margin-top: 8px;
				width: 100%;
				margin-left: 16px;

				li {
					margin-bottom: 8px;

					&:last-child {
						margin-bottom: 0;
					}
				}
			}

			.goodTube_modal .goodTube_button {
				all: initial;
				margin: 0;
				padding: 0;
				box-sizing: border-box;
				display: inline-block;
				background: #e84a82;
				color: #ffffff;
				text-align: center;
				font-size: 15px;
				font-weight: 700;
				padding-top: 12px;
				padding-bottom: 12px;
				padding-left: 18px;
				padding-right: 18px;
				letter-spacing: 0.024em;
				border-radius: 4px;
				font-family: Roboto, Arial, sans-serif;
				cursor: pointer;
				transition: background .2s linear;
			}

			.goodTube_modal .goodTube_button:hover {
				background: #fa5b93;
			}

			.goodTube_modal .goodTube_heart {
				color: #e01b6a;
				font-size: 24px;
			}

			.goodTube_modal .goodTube_text {
				display: block;
				font-size: 15px;
				padding-bottom: 16px;
				line-height: 130%;
			}

			.goodTube_modal .goodTube_text:last-child {
				padding-bottom: 0;
			}

			.goodTube_modal .goodTube_text a {
				color: #e84a82;
				text-decoration: underline;
			}

			.goodTube_modal .goodTube_report {
			}

			.goodTube_modal .goodTube_successText {
				font-size: 15px;
				padding-bottom: 16px;
				line-height: 130%;
				display: none;
			}

			.goodTube_modal .goodTube_report input:not(.goodTube_button),
			.goodTube_modal .goodTube_report textarea {
				border-radius: 4px;
				border: 1px solid #999;
				width: 100%;
				font-size: 14px;
				color: #000000;
				padding-top: 12px;
				padding-bottom: 12px;
				padding-left: 16px;
				padding-right: 16px;
				font-family: Roboto, Arial, sans-serif;
				transition: border .2s linear;
			}

			.goodTube_modal .goodTube_report input:not(.goodTube_button)::placeholder,
			.goodTube_modal .goodTube_report textarea::placeholder {
				color: #666666;
			}

			.goodTube_modal .goodTube_report input:not(.goodTube_button):focus,
			.goodTube_modal .goodTube_report textarea:focus {
				border: 1px solid #333;
			}

			.goodTube_modal .goodTube_report input:not(.goodTube_button) {
				margin-bottom: 12px;
			}

			.goodTube_modal .goodTube_report textarea {
				margin-bottom: 16px;
				height: 128px;
			}



			.goodTube_modal_faq {
				display: flex;
				flex-wrap: wrap;
				width: 100%;
				padding-right: 8px;
				border-bottom: 1px solid #eeeeee;

				&:first-child {
					border-top: 1px solid #eeeeee;
				}

				/* Question */
				.goodTube_modal_question {
					display: flex;
					flex-wrap: nowrap;
					gap: 16px;
					width: 100%;
					padding-top: 16px;
					padding-bottom: 16px;
					transition: color .2s linear;
					cursor: pointer;

					.goodTube_modal_question_text {
						width: 100%;
						font-weight: 700;
					}

					.goodTube_modal_question_arrow {
						position: relative;
						top: 4px;
						transform: rotate(45deg);
						box-sizing: border-box;
						width: 8px;
						height: 8px;
						border-color: #808080;
						border-style: solid;
						border-width: 0px 2px 2px 0px;
						transition: transform .2s ease, top .2s ease, border-color .2s linear;
					}

					&:hover {
						color: #e84a82;

						.goodTube_modal_question_arrow {
							border-color: #e84a82;
						}
					}
				}

				/* Answer */
				.goodTube_modal_answer {
					display: grid;
					grid-template-rows: 0fr;
					margin-top: -4px;
					transition: grid-template-rows .4s ease;

					.goodTube_modal_answerInner {
						overflow: hidden;
						padding-bottom: 0;
						opacity: 0;
						transition: opacity .4s ease, padding-bottom .4s ease;
					}
				}

				/* Open State */
				&[data-open="true"] {
					.goodTube_modal_question {
						.goodTube_modal_question_arrow {
							top: 7px;
							transform: rotate(225deg);
						}
					}

					.goodTube_modal_answer {
						grid-template-rows: 1fr;

						.goodTube_modal_answerInner {
							padding-bottom: 20px;
							opacity: 1;
						}
					}
				}
			}


		`,document.head.appendChild(ye);let S=document.querySelector(".goodTube_menuButton"),ie=document.querySelector(".goodTube_menuClose");ie&&ie.addEventListener("click",()=>{a||(S.remove(),ie.remove())});let z=document.querySelector(".goodTube_modal"),St=document.querySelector(".goodTube_modal .goodTube_modal_overlay"),It=document.querySelector(".goodTube_modal .goodTube_modal_closeButton");S&&S.addEventListener("click",()=>{if(!a&&z){let P=document.querySelector(".goodTube_report");P&&(P.style.display="block");let F=document.querySelector(".goodTube_successText");F&&(F.style.display="none");let U=document.querySelector(".goodTube_reportEmail");U&&(U.value="");let ee=document.querySelector(".goodTube_reportText");ee&&(ee.value=""),z.classList.add("visible")}}),St&&St.addEventListener("click",()=>{a||z&&z.classList.contains("visible")&&z.classList.remove("visible")}),It&&It.addEventListener("click",()=>{a||z&&z.classList.contains("visible")&&z.classList.remove("visible")}),document.addEventListener("keydown",P=>{a||P.key.toLowerCase()==="escape"&&z&&z.classList.contains("visible")&&z.classList.remove("visible")});let Mt=document.getElementById("goodTube_button_saveSettings");Mt&&Mt.addEventListener("click",()=>{if(a)return;let P=document.querySelector(".goodTube_option_shorts");P&&(P.checked?u("goodTube_shorts","false"):u("goodTube_shorts","true"));let F=document.querySelector(".goodTube_option_hideInfoCards");F&&(F.checked?u("goodTube_hideInfoCards","true"):u("goodTube_hideInfoCards","false"));let U=document.querySelector(".goodTube_option_hideEndScreen");U&&(U.checked?u("goodTube_hideEndScreen","true"):u("goodTube_hideEndScreen","false"));let ee=document.querySelector(".goodTube_option_hideSuggestedVideos");ee&&(ee.checked?u("goodTube_hideSuggestedVideos","true"):u("goodTube_hideSuggestedVideos","false"));let Ct=document.querySelector(".goodTube_option_hideComments");Ct&&(Ct.checked?u("goodTube_hideComments","true"):u("goodTube_hideComments","false"));let Ke=document.querySelector(".goodTube_option_hideAiSummaries");Ke&&(Ke.checked?u("goodTube_hideAiSummaries","true"):u("goodTube_hideAiSummaries","false"));let Lt=document.querySelector(".goodTube_option_hideMembersOnlyVideos");Lt&&(Lt.checked?u("goodTube_hideMembersOnlyVideos","true"):u("goodTube_hideMembersOnlyVideos","false"));let Je=document.querySelector(".goodTube_option_alwaysStart");Je&&(Je.checked?u("goodTube_alwaysStart","true"):u("goodTube_alwaysStart","false"));let x=document.querySelector(".goodTube_option_blackBackground");x&&(x.checked?u("goodTube_blackBackground","true"):u("goodTube_blackBackground","false"));let Xe=document.querySelector(".goodTube_option_instantPause");Xe&&(Xe.checked?u("goodTube_instantPause","true"):u("goodTube_instantPause","false"));let E=document.querySelector(".goodTube_option_videosPerRow");E&&u("goodTube_videosPerRow",E.value.toString().toLowerCase()),window.location.href=window.location.href}),document.querySelectorAll(".goodTube_modal_question").forEach(P=>{P.addEventListener("click",F=>{if(a)return;let U=F.currentTarget.closest(".goodTube_modal_faq");U.getAttribute("data-open")==="true"?U.setAttribute("data-open","false"):(document.querySelector('.goodTube_modal_faq[data-open="true"]')?.setAttribute("data-open","false"),U.setAttribute("data-open","true"))})});let I=document.querySelector(".goodTube_report"),Ce=document.querySelector(".goodTube_successText");I&&Ce&&I.addEventListener("submit",P=>{if(a)return;P.preventDefault(),P.stopImmediatePropagation();let F={email:document.querySelector(".goodTube_reportEmail")?.value,message:document.querySelector(".goodTube_reportText")?.value},U={method:"POST",body:JSON.stringify(F),headers:{"Content-Type":"application/json; charset=UTF-8"},referrerPolicy:"no-referrer"};fetch("https://jamenlyndon.com/_other/stats/mail.php",U).then(ee=>ee.text()).then(ee=>{I.style.display="none",Ce.style.display="block"})})}function Hn(){a||(window.addEventListener("focus",()=>{a||(dt=!0)}),window.addEventListener("blur",()=>{a||(dt=!1)}))}function Yn(){if(a)return;let e=document.createElement("style"),t=`
			.ytp-skip-ad-button {
				bottom: 48px !important;
				right: 32px !important;
				background: rgba(255, 255, 255, .175) !important;
				opacity: 1 !important;
				transition: background .1s linear !important;
			}

			.ytp-skip-ad-button:hover,
			.ytp-skip-ad-button:focus {
				background: rgba(255, 255, 255, .225) !important;
			}

			.ytp-ad-player-overlay-layout__player-card-container {
				display: none !important;
			}

			.ytp-ad-player-overlay-layout__ad-info-container {
				display: none !important;
			}

			.ytp-chrome-top {
				display: none !important;
			}

			#goodTube_hideMuteAdsOverlay {
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background: #000000;
				z-index: 851;
				padding: 48px;
				display: flex;
				align-items: center;
				justify-content: center;

				.goodTube_overlay_inner {
					display: flex;
					align-items: flex-start;
					gap: 24px;
					max-width: 560px;

					img {
						width: 64px;
						height: 50px;
						min-width: 64px;
						min-height: 50px;
					}

					.goodTube_overlay_textContainer {
						font-family: Roboto, Arial, sans-serif;
						margin-top: -9px;

						.goodTube_overlay_textContainer_title {
							font-size: 24px;
							font-weight: 700;
						}

						.goodTube_overlay_textContainer_text {
							font-size: 17px;
							font-style: italic;
							padding-top: 8px;
						}
					}
				}
			}
		`;navigator.userAgent.toLowerCase().indexOf("firefox")===-1&&(t+=`
				.ytp-pip-button {
					display: inline-block !important;
				}
			`),Ge==="true"&&(t+=`
				.ytp-ce-covering-overlay,
				.ytp-ce-element {
					display: none !important;
				}
			`),Qe==="true"&&(t+=`
				.ytp-videowall-still {
					display: none !important;
				}
			`),e.textContent=t,document.head.appendChild(e);function i(n){if(!G()||ue!=="enabled"||n.ctrlKey||n.altKey||n.metaKey)return;let r=n.key.toLowerCase(),f=n.srcElement,m=!1,y=!1;f&&(typeof f.nodeName<"u"&&(m=f.nodeName.toLowerCase()),typeof f.getAttribute<"u"&&(y=f.getAttribute("id"))),(!f||m.indexOf("input")===-1&&m.indexOf("label")===-1&&m.indexOf("select")===-1&&m.indexOf("textarea")===-1&&m.indexOf("fieldset")===-1&&m.indexOf("legend")===-1&&m.indexOf("datalist")===-1&&m.indexOf("output")===-1&&m.indexOf("option")===-1&&m.indexOf("optgroup")===-1&&y!=="contenteditable-root")&&(r===" "||r==="k"||r==="m"||r==="i")&&(n.preventDefault(),n.stopImmediatePropagation())}document.addEventListener("keydown",i,!0),document.addEventListener("keypress",i,!0),document.addEventListener("keyup",i,!0),ni()}function Gn(){a||(h&&G()?Zt()?Qn():Wn():ue="")}let ue="";function Qn(){if(a)return;let e=document.getElementById("goodTube_hideMuteAdsOverlay");if(ue==="enabled"&&e)return;let t=document.querySelector("#movie_player video");t&&(t.muted=!0,t.volume=0,J(t));let i=document.querySelector(".ytp-chrome-bottom");i&&J(i);let n=document.getElementById("movie_player");n&&(n.style.pointerEvents="none");let r=document.querySelector(".ytp-caption-window-container");if(n&&J(r),!e){let f=document.createElement("div");f.setAttribute("id","goodTube_hideMuteAdsOverlay"),rt(f,`
				<div class='goodTube_overlay_inner'>
					<img src='data:image/gif;base64,R0lGODlhQAAyANU4AM1ml//MzcxlaP/LzM1maMxlZ//MzM1laMtkZspjlstkZ//Exe94ie10h8swZMwuYv+oqv+Vl/iQmdRtb8xldcphY81nl81paMpiZP/DxdZ5e80vY81pmtZ4es0wY/CImdZvcswuYf/Oz81mmfS1ts0xZM1mj8swY8xml++XqPGKjf/Q0ctklslilu51iMwxZcxmls1mlswxZP+Ym/+Zm8xlls0yZf+Ymv///wAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMS1jMDAzIDc5Ljk2OTBhODdmYywgMjAyNS8wMy8wNi0yMDo1MDoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI2LjkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkIwRkZBNzNFQkI3RjExRjA4OTVBRDJBREJCNDlGMkY5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkIwRkZBNzNGQkI3RjExRjA4OTVBRDJBREJCNDlGMkY5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjBGRkE3M0NCQjdGMTFGMDg5NUFEMkFEQkI0OUYyRjkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjBGRkE3M0RCQjdGMTFGMDg5NUFEMkFEQkI0OUYyRjkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQJEQA4ACwAAAAAQAAyAAAG/0CccEgsGo/I5BCBUCiYTKV0SlUynVBEVYjBFAqCsGBLHhIIJJJIFK52v+JxmXxOr9vJ8OEQCHzPc3NfGhp9Z4BHenx+BYiBW4OFAYcESGEVFX1xj0I2njYyMkROTmcdHQYGKyspKaFGl5kBm5yfoKJDpAqmqKqsrrhCLy8LCxkZxRMTKip4RLaeSKGer0VnN9g3MzPYLi7RQ8PFx8nLzXLP0NIy1MFmBNna3Dfe4EKh2/E0NNiO4S/TbKyzZeTMvn3xGjQYRgTfPGwIb/gTBpCdwCMB7b07yC+bQoZDPMXDFuYLEpNb9lgSAAJEwgYaRY4sWeBkzZQHVrZ8GdMGg/+fDD58oEDBhAmQRPaEOnHCgVMHtkKFchbSRo0aAADAgNHOiCegQYcWPfrCiFIZTJ9C/SRVBtVOVrFq5XprYNytWTUK+TKs7wtobGWoLBLqatYYMQLavYoXgF4cfP3+BXxrcEMZhgEgVizFU9arV4e19RRx27aI8YZFxQyaA4fHSjwDAF1DtFTSHU3PQJ1NdWDarmF3vnUVN0QaA5IPSNWnj/IBfThu84TY76N2xW1E3PecefPn0Q9Ot1G9bxV9HbGVKHE13rbuBvp4T57qdMetw9DHQ6I/2/r22bynnHfzLWeAfdjg90J/2PA3Uj43eLIVR9g0FwB98VnY3HY0lIf/DYT7HTGSPNhICAOFN1iIoYYbdrSPhySOZMQ+9iG21VahIEajbqa599ANKGKzmQw3wqAjDfYRseOLMRSZYww78vgjiEAeFM+QRR6ZJA4fzpBAAlcZEcpWxx0nYHLODeDjcdkZcdWXVG7zZZiEEQlDmVWeCd2FagY4zz5tFvFmAlTSSQSEw1wlwaISjAjBoxBEIGkEPrbQwpeIybSNmzXEY+gQiL6gKKOOQjoppX5aimkMms7AaYIwGIHeVU8iRttVHEW01VW2ykUdlOndYESRsmYDaA21xnBrDbneBwOvyvpKHrAhEkFsEbxtJZuNN2bVZY3R7lpDpnGhN+yNMwar9q0NhzXZLQDf7tZhuM+Oy2q5xtJwLhE+IoaYEBdc8MADIYQwMG2fLWtvRjbg4W8MVDrY5cMAC0ywwQ8gPJvCQ9risL8Ri5jNp9iMMAIKKFhggRAbbOCBB7aN9okQWdUMr7BDANigyNiQfIPJKKvMssswVyQzODZ7i7MQOi9dhH0+2/wvDp74Jtlk1YiL2M5MM4ukq0dAXQO/N0gdA1xWS9YVDlrHwDUOuH4t8Q2fHsvJEVs73fTcddPw6d1C5E3E3mX0XMO1c2RV5KaAk80YuoEofiPjjQsBq82P9MoCC283fnnNmUe7eeeV+/jIiJXzLM/pMm4RBAAh+QQFFAA4ACwAAAAAQAAyAAAG/0CccChEGBEKhZHIbDqf0KjziFQipNisligQiEQkEoGwLQ+73UIBg9F2v+Gx2YwWqNnY8TgQ0GjUc3NjanwHB11PegR8foCBZYMFhYcCTTIyKSkrKwYGHR1jSUlElzamNo9CdXwVFYhMl5mbnZ+hoqQyp6ipqwGtr0SmLi43NzMzxcVysLk2l0+6pk1dKioTEwsLGRnZLy/BNsPFx8k3y7imz07Ru1wC1dfZ293fQ94NDeU0+zTnQ7rqmqST4a3JmGL7yh0LiONevmT8+pFhAlAGNGcE6xE5eCNhsoUW/9nAVw4ECGBMDJVx1ERNl3LFpIkkmcwkSiIqt7Bk4lIAzP8bMtHZgAEDAIAaNYKeEXCp1CkHUB2cOHEpJxFvJkxQoPDhA4OvDJQKcUrUKFKxOLo0bWYqqlSqMqzae5F1a1ewYduJvBQjhtkaDIUYcsrOm+EXO4WYMkr0LMaLfP0eBRwS5wHC0Q57S4xjMYDGSR9LMcWBA1KkmL393HeMXEcaAy95O13DKNoopE2fTv1iNY3WyF7Hzkjbtl4th/uaOhaRz4DnA/jw6QR9gMd9plA3e5Q8xvIZzQNUlx6AOvTrsG1ov+1EH41y3ogi/D3D/HQD96u7Loa0RAn35TwBYDLxwTDfMfaVh5+C+gXHXw3+DViMgDC55k1f6JFHXoJ8zLf/D1GmjONgMhQqFNyFMWSoYX7RSechDSDaIOJPTbAGHg19EUVUZO55NONHwLW2T1+X6AgDhvTtQ4SNQ8ZgJI8Q8WOiiUHeSKQMRiLJHA1CiJhAAkgJpF4NHu13w3POQbflfMXsWNkQSH1p5jFfhknRmGWOiKZ4at7I5g1uNhFnAmbaSYRrpvT1ZQstmBnBoxFAICkEP0lgqQRIqWbMDILWUI6hQyBqg6IJMOoopJNSCtOlmNag6TGdtglDE+4pZ8NffSEl32sR0YZUX1ci5eMNTRhJa5S24hqDrgbyyo+vNQAbwyXCvkciE8YyMaxjudYAmpatFcOYjn0Zt+t8xepY96O1Dya6rLcw/Joifa6NS1S5AJhy7mvpEmGitKoIUFG30P6F1AMPhBACwhdcIIS0Zpa4KcBpCXxKZNAiZXANCCvMsMM4QDyixKCKa9TJil28VkYeeLDBBkJYYAEKKIwwwoRwenrtsQ/6e8PJKHem8lretPxyzDPXfDOxOQfoxJYl39AtUWM1o9kLpngjE75G4SxEtbA+fWPUU8+Kg1NXZ431LlwD4DUOYHPaXjJkx5CKE9USgZTTPN9Q992dKtn0zlscY6RRjxi5N9OAhzrD4QAkruPijfvMAgvyPgL0rpUPUczlmQeyebOd+8y3GRGXbjrhZaSuRRAAOw%3D%3D'>
					<div class='goodTube_overlay_textContainer'>
						<div class='goodTube_overlay_textContainer_title'>Sorry, we can't remove the ads from this video but we can hide and mute them!</div>
						<div class='goodTube_overlay_textContainer_text'>Hang tight. Click the skip button if it appears to speed things up.</div>
					</div>
				</div>
			`);let m=document.querySelector(".ytp-ad-player-overlay-layout");m&&m.prepend(f)}no(!0),ue="enabled"}function Wn(){if(a||ue==="disabled")return;let e=document.querySelector("#movie_player video");e&&(e.playbackRate=ke,s=document.getElementById("movie_player"),s&&typeof s.unMute=="function"&&typeof s.setVolume=="function"&&typeof s.getVolume=="function"&&(e.volume<=0||e.muted||s.getVolume()===0)&&(e.muted=!1,e.volume=1,s.unMute(),s.setVolume(100)),at(e));let t=document.querySelector(".ytp-chrome-bottom");t&&at(t);let i=document.getElementById("movie_player");i&&(i.style.pointerEvents="auto");let n=document.querySelector(".ytp-caption-window-container");i&&at(n);let r=document.getElementById("goodTube_hideMuteAdsOverlay");r&&r.remove(),no(),ue="disabled"}let ii=setTimeout(()=>{},0);function ni(){if(a)return;let e=document.querySelector("#movie_player .ytp-autonav-toggle-button");e?e.addEventListener("click",()=>{if(a)return;let t="true";e.getAttribute("aria-checked")==="true"&&(t="false"),u("goodTube_autoplay",t),k.contentWindow.postMessage("goodTube_autoplay_"+t,"*")}):(clearTimeout(ii),ii=setTimeout(ni,100))}let ai=setTimeout(()=>{},0);function ri(){if(a)return;let e=document.querySelector("#movie_player .ytp-autonav-toggle-button");e&&e.checkVisibility()?e.getAttribute("aria-checked")!==X&&K(e):(clearTimeout(ai),ai=setTimeout(ri,100))}let di=setTimeout(()=>{},0);function no(e=!1){if(!a&&!(!h||!G())&&(s=document.getElementById("movie_player"),s&&typeof s.playVideo=="function"&&typeof s.mute=="function"&&typeof s.setVolume=="function")){let t=document.querySelector("#movie_player video");if(s.playVideo(),e&&(s.mute(),s.setVolume(0)),t){e&&(t.muted=!0,t.volume=0);let i=t.currentTime;clearTimeout(di),di=setTimeout(()=>{t.currentTime===i&&no()},100)}}}let li=!1,si=setTimeout(()=>{},0);function ui(e=!1){a||(e||(window.addEventListener("message",Tt),document.addEventListener("DOMContentLoaded",yt),(document.readyState==="interactive"||document.readyState==="complete")&&yt()),!document.body||!document.head?(clearTimeout(si),si=setTimeout(()=>{ui(!0)},1)):yt())}let ci=setTimeout(()=>{},0);function yt(){if(a)return;c=document.getElementById("movie_player");let e=!1;if(c&&typeof c.getVideoData=="function"&&(e=c.getVideoData()),!e){clearTimeout(ci),ci=setTimeout(yt,1);return}li||(li=!0,Jn(),mi(),bi(),ea(),Ie(),na(),setInterval(Ii,5e3),Zn(),fi(),setInterval(fi,100),window.top.postMessage("goodTube_playerIframe_loaded","*"))}function fi(){a||(jn(),ia(),Kn(),aa(),ra(),da())}function jn(){if(a)return;document.querySelector(".ytp-error")?h||(h=!0,window.top.postMessage("goodTube_fallback_enable","*"),Ie(),clearTimeout(vt)):h&&(h=!1,window.top.postMessage("goodTube_fallback_disable","*"),Ie(),clearTimeout(vt))}function Zn(){a||(typeof C.goodTube_playbackSpeed<"u"&&c&&typeof c.setPlaybackRate=="function"&&c.setPlaybackRate(parseFloat(C.goodTube_playbackSpeed)),setInterval(()=>{a||c&&typeof c.getPlaybackRate=="function"&&window.top.postMessage("goodTube_playbackSpeed_"+c.getPlaybackRate(),"*")},100))}function Kn(){if(a)return;document.querySelectorAll(".ytp-videowall-still:not(.goodTube_fixed), .ytp-ce-covering-overlay:not(.goodTube_fixed)").forEach(t=>{t.addEventListener("click",i=>{a||(i.preventDefault(),i.stopImmediatePropagation(),window.top.location.href=t.href)},!0),t.addEventListener("mousedown",i=>{a||i.button===0&&(i.preventDefault(),i.stopImmediatePropagation())},!0),t.addEventListener("mouseup",i=>{a||i.button===0&&(i.preventDefault(),i.stopImmediatePropagation())},!0),t.addEventListener("touchstart",i=>{a||(i.preventDefault(),i.stopImmediatePropagation())},!0),t.addEventListener("touchend",i=>{a||(i.preventDefault(),i.stopImmediatePropagation())},!0),t.classList.add("goodTube_fixed")})}function Jn(){if(a)return;let e=document.createElement("style"),t=`
			/* Hide unwanted stuff */
			.ytp-gradient-top,
			.ytp-show-cards-title,
			.ytp-pause-overlay,
			.ytp-youtube-button,
			.ytp-cued-thumbnail-overlay,
			.ytp-paid-content-overlay,
			.ytp-impression-link,
			.ytp-ad-progress-list,
			.ytp-endscreen-next,
			.ytp-endscreen-previous,
			.ytp-info-panel-preview,
			.ytp-generic-popup,
			.goodTube_hideEndScreen .html5-endscreen {
				display: none !important;
			}

			.html5-endscreen {
				top: 0 !important;
			}

			/* Disable click events on the top area */
			.ytp-chrome-top {
				pointer-events: none !important;
			}

			/* Always show the next button */
			.ytp-next-button {
				opacity: 1 !important;
				cursor: pointer !important;
				display: block !important;
			}

			/* Show the prev button if it has the right class */
			.ytp-prev-button.goodTube_visible {
				opacity: 1 !important;
				cursor: pointer !important;
				display: block !important;
			}

			/* Show video title in fullscreen */
			:fullscreen .ytp-gradient-top,
			:fullscreen .ytp-show-cards-title {
				display: block !important;
			}
			:fullscreen .ytp-show-cards-title .ytp-button,
			:fullscreen .ytp-show-cards-title .ytp-title-channel {
				display: none !important;
			}
			:fullscreen .ytp-show-cards-title .ytp-title-text {
				padding-left: 36px !important;
			}

			/* Add theater mode button */
			.ytp-size-button {
				display: inline-block !important;
			}

			/* Hide theater button in fullscreen (don't use display none, it causes issues with keyboard shortcuts if this was the last focused element) */
			body .ytp-fullscreen .ytp-size-button {
				position: fixed !important;
				top: -9999px !important;
				left: -9999px !important;
				bottom: auto !important;
				right: auto !important;
				opacity: 0 !important;
				pointer-events: none !important;
			}

			/* Style autoplay button */
			#goodTube_autoplayButton {
				overflow: visible;
				position: relative;
			}

			#goodTube_autoplayButton .ytp-autonav-toggle-button::before {
				pointer-events: none;
				opacity: 0;
				position: absolute;
				top: -49px;
				left: 50%;
				transform: translateX(-50%);
				background: rgba(28, 28, 28, 0.9);
				color: #ffffff;
				border-radius: 4px;
				font-weight: 500;
				font-size: 12.98px;
				padding-left: 9px;
				padding-right: 9px;
				padding-bottom: 0;
				height: 25px;
				box-sizing: border-box;
				line-height: 25px;
				font-family: "YouTube Noto", Roboto, Arial, Helvetica, sans-serif;
				white-space: nowrap;
			}

			#goodTube_autoplayButton .ytp-autonav-toggle-button[aria-checked='true']::before {
				content: 'Auto-play is on';
			}

			#goodTube_autoplayButton .ytp-autonav-toggle-button[aria-checked='false']::before {
				content: 'Auto-play is off';
			}

			#goodTube_autoplayButton:hover .ytp-autonav-toggle-button::before {
				opacity: 1;
			}

			.ytp-big-mode #goodTube_autoplayButton .ytp-autonav-toggle-button {
				transform: scale(1.4);
				top: 21px;
			}

			.ytp-big-mode #goodTube_autoplayButton .ytp-autonav-toggle-button::before {
				font-size: 14px;
				height: 23px;
				line-height: 23px;
			}

			/* Make sure the background is transparent */
			body,
			.html5-video-player {
				background: transparent !important;
			}

			/* Make subtitles visible when paused (but not when using the "immersive translation" plugin) */
			body:not(.immersive-translation) .caption-window {
				display: block !important;
			}
		`;navigator.userAgent.toLowerCase().indexOf("firefox")===-1&&(t+=`
				.ytp-pip-button {
					display: inline-block !important;
				}
			`),C.goodTube_hideInfoCards==="true"&&(t+=`
				.ytp-ce-covering-overlay,
				.ytp-ce-element {
					display: none !important;
				}
			`),C.goodTube_hideEndScreen==="true"&&(t+=`
				.ytp-videowall-still {
					display: none !important;
				}
			`),e.textContent=t,document.head.appendChild(e)}function Xn(){if(a)return;let e=document.querySelector(".ytp-prev-button");e&&!e.classList.contains("goodTube_visible")&&e.classList.add("goodTube_visible")}function $n(){if(a)return;let e=document.querySelector(".ytp-prev-button");e&&e.classList.contains("goodTube_visible")&&e.classList.remove("goodTube_visible")}let pi=setTimeout(()=>{},0);function mi(){if(a)return;if(!document.querySelector(".ytp-play-button")){clearTimeout(pi),pi=setTimeout(mi,100);return}let t=document.querySelector(".ytp-prev-button");t&&t.addEventListener("click",function(){a||window.top.postMessage("goodTube_prevVideo","*")});let i=document.querySelector(".ytp-next-button");i&&i.addEventListener("click",function(){a||window.top.postMessage("goodTube_nextVideo","*")});let n=document.querySelector(".ytp-size-button");n&&(n.setAttribute("data-tooltip-target-id","ytp-size-button"),n.setAttribute("data-title-no-tooltip","Theater mode (t)"),n.setAttribute("aria-label","Theater mode (t)"),n.setAttribute("title","Theater mode (t)"),n.setAttribute("data-tooltip-title","Theater mode (t)"),rt(n,`
				<svg height="100%" version="1.1" viewBox="0 0 36 36" width="100%"><use class="ytp-svg-shadow" xlink:href="#ytp-id-30"></use><path d="m 28,11 0,14 -20,0 0,-14 z m -18,2 16,0 0,10 -16,0 0,-10 z" fill="#fff" fill-rule="evenodd" id="ytp-id-30"></path></svg>
			`),n.addEventListener("click",function(){a||window.top.postMessage("goodTube_theater","*")}));let r=document.querySelector(".ytp-subtitles-button");if(r){wn(r,"beforebegin",'<button class="ytp-button ytp-autonav-toggle" id="goodTube_autoplayButton"><div class="ytp-autonav-toggle-button-container"><div class="ytp-autonav-toggle-button" aria-checked="'+C.goodTube_autoplay+'"></div></div></button>');let f=document.querySelector("#goodTube_autoplayButton");f&&f.addEventListener("click",function(){if(a)return;let m=f.querySelector(".ytp-autonav-toggle-button");m.getAttribute("aria-checked")==="true"?(m.setAttribute("aria-checked","false"),window.top.postMessage("goodTube_autoplay_false","*")):(m.setAttribute("aria-checked","true"),window.top.postMessage("goodTube_autoplay_true","*"))})}}let gi=setTimeout(()=>{},0);function bi(){if(a)return;let e=document.querySelector("#movie_player video");if(!e){clearTimeout(gi),gi=setTimeout(bi,100);return}e.removeEventListener("pause",_i),e.addEventListener("pause",_i)}function _i(){document.querySelector(".ended-mode")&&(Ii(!0),console.log("video ended - calling next from iframe"),window.top.postMessage("goodTube_videoEnded","*"))}function ea(){a||document.addEventListener("keydown",function(e){if(a||e.ctrlKey||e.altKey||e.metaKey||h)return;let t=e.key.toLowerCase();if(t==="t"&&window.top.postMessage("goodTube_theater","*"),t==="i"){let i=document.querySelector(".ytp-pip-button");i&&K(i)}else t==="p"&&e.shiftKey||t==="mediatrackprevious"?window.top.postMessage("goodTube_prevVideo","*"):(t==="n"&&e.shiftKey||t==="mediatracknext")&&window.top.postMessage("goodTube_nextVideo","*")})}let re=setTimeout(()=>{},0),$=!1,ce=-1,fe=!1,pe=!1,me=!1,b=document.querySelector("video"),D=document.querySelector(".goodTube_doubleSpeed");function ao(e){if(a)return;let t=e.key.toLowerCase();if(t===" "||t==="k"){if(h)return;if(pe){e.preventDefault(),e.stopImmediatePropagation();return}if(e.ctrlKey||e.altKey||e.metaKey||(e.preventDefault(),e.stopImmediatePropagation(),$)||fe)return;fe=!0,ce=c.getPlaybackRate(),clearTimeout(re),re=setTimeout(()=>{c.setPlaybackRate(2),c.playVideo(),D.style.display="block",$=!0},1e3)}}function ro(e){if(a)return;let t=e.key.toLowerCase();if(t===" "||t==="k"){if(h)return;if(pe){e.preventDefault(),e.stopImmediatePropagation();return}if(e.ctrlKey||e.altKey||e.metaKey)return;e.preventDefault(),e.stopImmediatePropagation()}}function lo(e){if(a)return;let t=e.key.toLowerCase();if(t===" "||t==="k"){if(h)return;if(pe){e.preventDefault(),e.stopImmediatePropagation();return}if(e.ctrlKey||e.altKey||e.metaKey)return;clearTimeout(re),$?(c.setPlaybackRate(ce),D.style.display="none",$=!1):(b=document.querySelector("video"),me=!0,K(b),me=!1,window.top.postMessage("goodTube_cancelPlay","*")),fe=!1,e.preventDefault(),e.stopImmediatePropagation()}}function Ae(e){if(!a&&e.button===0&&!me&&!h){if(fe){e.preventDefault(),e.stopImmediatePropagation();return}pe=!0,e.preventDefault(),e.stopImmediatePropagation(),ce=c.getPlaybackRate(),clearTimeout(re),re=setTimeout(()=>{c.setPlaybackRate(2),c.playVideo(),D.style.display="block",$=!0},1e3)}}function so(e){a||me||h||(e.preventDefault(),e.stopImmediatePropagation())}function Ee(e){if(!a&&e.button===0&&!me&&!h){if(fe){e.preventDefault(),e.stopImmediatePropagation();return}clearTimeout(re),$?(c.setPlaybackRate(ce),D.style.display="none",$=!1):(b=document.querySelector("video"),me=!0,K(b),me=!1,setTimeout(()=>{b.focus()},0),window.top.postMessage("goodTube_cancelPlay","*")),pe=!1,e.preventDefault(),e.stopImmediatePropagation()}}function Se(e){if(!a&&!h){if(fe){e.preventDefault(),e.stopImmediatePropagation();return}e.preventDefault(),e.stopImmediatePropagation(),clearTimeout(re),$&&(c.setPlaybackRate(ce),D.style.display="none",$=!1),pe=!1}}let ht=setTimeout(()=>{},0);function Ie(){if(!a&&C.goodTube_instantPause!=="true"){if(clearTimeout(re),$=!1,fe=!1,pe=!1,b=document.querySelector("video"),D=document.querySelector(".goodTube_doubleSpeed"),h){document.removeEventListener("keydown",ao,!0),document.removeEventListener("keypress",ro,!0),document.removeEventListener("keyup",lo,!0),b&&(b.removeEventListener("mousedown",Ae,!0),b.removeEventListener("touchstart",Ae,!0),b.removeEventListener("click",so,!0),b.removeEventListener("mouseup",Ee,!0),b.removeEventListener("touchend",Ee,!0),b.removeEventListener("mouseout",Se,!0),b.removeEventListener("touchcancel",Se,!0)),D&&(D.style.display="none");return}if(!b){clearTimeout(ht),ht=setTimeout(Ie,100);return}if(c=document.getElementById("movie_player"),!c||typeof c.getPlaybackRate!="function"||typeof c.setPlaybackRate!="function"||typeof c.playVideo!="function"){clearTimeout(ht),ht=setTimeout(Ie,100);return}if(ce=c.getPlaybackRate(),c.setPlaybackRate(ce),D)D.style.display="none";else{D=document.createElement("div"),D.classList.add("goodTube_doubleSpeed"),D.style.position="relative",D.style.zIndex="999",D.style.display="none",rt(D,`
				<div class="ytp-overlay ytp-speedmaster-overlay" data-layer="4">
					<div class="ytp-speedmaster-user-edu ytp-speedmaster-has-icon">
						<div class="ytp-speedmaster-label">2x</div>
						<div class="ytp-speedmaster-icon">
							<svg height="100%" version="1.1" viewBox="0 0 36 36" width="100%">
								<path class="ytp-svg-fill" d="M 10,24 18.5,18 10,12 V 24 z M 19,12 V 24 L 27.5,18 19,12 z" id="ytp-id-1"></path>
							</svg>
						</div>
					</div>
				</div>
			`);let e=document.querySelector(".html5-video-player");e&&e.appendChild(D)}document.removeEventListener("keydown",ao,!0),document.addEventListener("keydown",ao,!0),document.removeEventListener("keypress",ro,!0),document.addEventListener("keypress",ro,!0),document.removeEventListener("keyup",lo,!0),document.addEventListener("keyup",lo,!0),b.removeEventListener("mousedown",Ae,!0),b.addEventListener("mousedown",Ae,!0),b.removeEventListener("touchstart",Ae,!0),b.addEventListener("touchstart",Ae,!0),b.removeEventListener("click",so,!0),b.addEventListener("click",so,!0),b.removeEventListener("mouseup",Ee,!0),b.addEventListener("mouseup",Ee,!0),b.removeEventListener("touchend",Ee,!0),b.addEventListener("touchend",Ee,!0),b.removeEventListener("mouseout",Se,!0),b.addEventListener("mouseout",Se,!0),b.removeEventListener("touchcancel",Se,!0),b.addEventListener("touchcancel",Se,!0)}}function ta(e,t){a||(c=document.getElementById("movie_player"),c&&typeof c.loadVideoById=="function"&&(c.loadVideoById({videoId:e,startSeconds:t}),Ie()))}let Me=setTimeout(()=>{},0);function Tt(e){if(a||typeof e.data!="string")return;if(!document.body||!document.head){clearTimeout(Me),Me=setTimeout(()=>{Tt(e)},100);return}c=document.getElementById("movie_player");let t=!1;if(c&&typeof c.getVideoData=="function"&&(t=c.getVideoData()),!t){clearTimeout(Me),Me=setTimeout(()=>{Tt(e)},100);return}if(e.data.indexOf("goodTube_load_")!==-1){let i=e.data.replace("goodTube_load_","").split("|||"),n=i[0],r=parseFloat(i[1]);ta(n,r)}else if(e.data==="goodTube_stopVideo")co(),ki();else if(e.data.indexOf("goodTube_skipTo_")!==-1){let i=e.data.replace("goodTube_skipTo_","").split("|||"),n=parseFloat(i[0]),r=i[1];if(r!==""&&t.video_id!==r){clearTimeout(Me),Me=setTimeout(()=>{Tt(e)},100);return}vi(n)}else if(e.data==="goodTube_pause")co();else if(e.data.indexOf("goodTube_play|||")!==-1)Si(e.data.replace("goodTube_play|||",""));else if(e.data==="goodTube_endScreen_show")document.body&&document.body.classList.contains("goodTube_hideEndScreen")&&document.body.classList.remove("goodTube_hideEndScreen");else if(e.data==="goodTube_endScreen_hide")document.body&&!document.body.classList.contains("goodTube_hideEndScreen")&&document.body.classList.add("goodTube_hideEndScreen");else if(e.data.indexOf("goodTube_shortcut_")!==-1){let i=document.querySelector("video");if(i){let n=e.data.replace("goodTube_shortcut_","").split("_"),r=n[0],f={bubbles:!0,key:n[1],keyCode:n[2],ctrlKey:n[3]==="true",metaKey:n[4]==="true",shiftKey:n[5]==="true",altKey:n[6]==="true"};i.dispatchEvent(new KeyboardEvent(r,f))}}else e.data==="goodTube_fullscreen"?yi():e.data==="goodTube_autoplay_true"?(u("goodTube_autoplay","true"),X="true",uo("true")):e.data==="goodTube_autoplay_false"?(u("goodTube_autoplay","false"),X="false",uo("false")):e.data==="goodTube_prevButton_true"?Xn():e.data==="goodTube_prevButton_false"&&$n()}let vt=setTimeout(()=>{},0);function yi(){if(a)return;let e=document.querySelector(".ytp-fullscreen-button");e?K(e):(clearTimeout(vt),vt=setTimeout(yi,100))}let hi=setTimeout(()=>{},0);function uo(e){if(a)return;let t=document.querySelector("#goodTube_autoplayButton");t?t.querySelector(".ytp-autonav-toggle-button").getAttribute("aria-checked")!==e&&K(t):(clearTimeout(hi),hi=setTimeout(()=>{uo(e)},100))}let Ti=setTimeout(()=>{},0);function vi(e){if(a)return;let t=document.querySelector("video");t?t.currentTime=parseFloat(e):(clearTimeout(Ti),Ti=setTimeout(()=>{vi(e)},100))}let xi=setTimeout(()=>{},0);function co(){if(a)return;let e=document.querySelector("video");e?e.pause():(clearTimeout(xi),xi=setTimeout(co,100)),window.top.postMessage("goodTube_cancelPlay","*")}let wi=setTimeout(()=>{},0);function ki(){if(a)return;let e=document.querySelector("video");e?e.muted=!0:(clearTimeout(wi),wi=setTimeout(ki,100))}let Ai=setTimeout(()=>{},0);function oa(){if(a)return;let e=document.querySelector("video");e?e.muted=!1:(clearTimeout(Ai),Ai=setTimeout(oa,100))}let Ei=setTimeout(()=>{},0);function Si(e){if(a)return;c=document.getElementById("movie_player");let t=!1;if(c&&typeof c.getVideoData=="function"&&(t=c.getVideoData()),!t||e!==t.video_id){clearTimeout(Ei),Ei=setTimeout(()=>{Si(e)},100);return}let i=document.querySelector("#movie_player video");i&&i.currentTime>=i.duration||c&&typeof c.playVideo=="function"&&c.playVideo()}function ia(){if(a)return;let e=document.querySelector(".ytp-fullscreen-button");e&&(e.setAttribute("aria-disabled","false"),document.querySelector(".ytp-fullscreen")?e.setAttribute("title","Exit full screen (f)"):e.setAttribute("title","Full screen (f)"))}function Ii(e=!1){if(a)return;let t=document.querySelector("video");if(t){let i=t.currentTime;e&&(i=t.duration),window.top.postMessage("goodTube_syncMainPlayer_"+i,"*")}}function na(){a||(addEventListener("leavepictureinpicture",e=>{a||(He=!1,window.top.postMessage("goodTube_pip_false","*"))}),addEventListener("enterpictureinpicture",e=>{a||(He=!0,window.top.postMessage("goodTube_pip_true","*"))}))}function aa(){a||"mediaSession"in navigator&&(navigator.mediaSession.setActionHandler("nexttrack",()=>{window.top.postMessage("goodTube_nextVideo","*")}),navigator.mediaSession.setActionHandler("previoustrack",()=>{window.top.postMessage("goodTube_prevVideo","*")}))}function ra(){if(a)return;let e=document.querySelector("video");if(e){let n=function(m,y){return y==0?m:n(y,m%y)},r=function(m,y){var v=n(m,y);return[m/v,y/v]},t=e.videoWidth,i=e.videoHeight,f=r(t,i);f.length===2&&!isNaN(f[0])&&!isNaN(f[1])&&window.top.postMessage("goodTube_syncAspectRatio_"+f[0]+"_"+f[1],"*")}}let Mi=!1;function da(){a||!Mi&&document.querySelector('style[data-id^="immersive-translate"]')&&(document.body.classList.add("immersive-translation"),Mi=!0)}let Ci=!1,Li=setTimeout(()=>{},0);function Di(){a||(window.addEventListener("message",po),document.addEventListener("DOMContentLoaded",fo),(document.readyState==="interactive"||document.readyState==="complete")&&fo(),!document.body||!document.head?(clearTimeout(Li),Li=setTimeout(Di,1)):fo())}function fo(){a||Ci||(Ci=!0,la(),sa(),window.top.postMessage("goodTube_proxyIframe_loaded","*"))}function la(){if(a)return;let e=document.createElement("style");e.textContent=`
			/* Hide the page */
			body *:not(#goodTube_youtube_iframe) {
				display: none !important;
				opacity: 0 !important;
				visibility: hidden !important;
			}

			body {
				background: transparent !important;
				overflow: hidden !important;
			}

			/* Style the Youtube iframe */
			#goodTube_youtube_iframe {
				position: fixed;
				top: 0;
				bottom: 0;
				left: 0;
				right: 0;
				z-index: 99999;
			}
		`,document.head.appendChild(e)}function sa(){a||(Q=document.createElement("iframe"),Q.setAttribute("width","100%"),Q.setAttribute("height","100%"),Q.setAttribute("frameborder","0"),Q.setAttribute("scrolling","yes"),Q.setAttribute("allow","accelerometer *; autoplay *; clipboard-write *; encrypted-media *; gyroscope *; picture-in-picture *; web-share *;"),Q.setAttribute("referrerpolicy","strict-origin-when-cross-origin"),Q.setAttribute("allowfullscreen",!0),Q.setAttribute("id","goodTube_youtube_iframe"),document.body.appendChild(Q))}let xt=setTimeout(()=>{},0);function po(e){if(a||typeof e.data!="string")return;(!document.body||!document.head)&&(clearTimeout(xt),xt=setTimeout(()=>{po(e)},100));let t=document.getElementById("goodTube_youtube_iframe");t?e.data.indexOf("goodTube_src_")!==-1?t.contentWindow.location.replace(e.data.replace("goodTube_src_","")):t.contentWindow.postMessage(e.data,"*"):(clearTimeout(xt),xt=setTimeout(()=>{po(e)},100))}function ua(){a||(window.top===window.self&&window.location.href.indexOf("youtube")!==-1?ei():window.location.href.indexOf("?goodTubeProxy=1")!==-1?Di():window.location.href.indexOf("?goodTubeEmbed=1")!==-1&&ui())}ua()})();})();
